!function(){"use strict";var r={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},d:function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},m=CoreUtilities,R=React,I=r.n(R),f=ReactDOM,h=Roblox,e=r.n(h),t=PropTypes,n=r.n(t),i=ReactUtilities,o="verificationUpsell-container",a={common:[],feature:"Feature.VerificationUpsell"},l="SET_USER_EMAIL_STATES",s="SET_MODAL_STATES",u="SET_PAGENAME_STATE",d="SET_INPUT_STATE",p="SET_ERROR_STATE",y="SET_EMAIL_SENT_STATE",v="SET_RESEND_EMAIL_STATE",b="SET_EMAIL_UPDATING_STATE",g="SET_TRIGGER_ORIGIN",E="SET_INPUT_CLEAR",P="SET_EMAIL_ADDED_STATE",x="Verification",S="UpdateEmail",w="UpdatePassword",C="logout",c="buyRobuxPage",N="homepage",T="premiumSubscriptionPage",A="purchaseWarning",k="notApprovedPage",O="https://en.help.roblox.com/hc/articles/115004630823-Roblox-Privacy-and-Cookie-Policy",M="Enter",D="Action.PrivacyPolicy",j="Message.ConfirmationEmailNotSent",L="Message.InvalidEmailAddress",U="Response.ErrorTryAgain",_="Response.TooManyAttemptsTryAgainLater";function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function q(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function V(e,t){switch(t.type){case E:return q(q({},e),{},{userEmailInput:""});case g:return q(q({},e),{},{origin:t.origin,skipCallback:t.skipCallback,closeCallback:t.closeCallback});case l:return q(q({},e),{},{isEmailVerified:t.isEmailVerified,userEmail:t.userEmail});case u:return q(q({},e),{},{pageName:t.pageName});case p:return q(q({},e),{},{errorMsg:t.errorMsg});case b:return q(q({},e),{},{isEmailUpdating:t.isEmailUpdating});case y:return q(q({},e),{},{isEmailSent:!0});case P:return q(q({},e),{},{isEmailAdded:!0});case v:return q(q({},e),{},{isEmailSent:!1});case d:return e.pageName===S?q(q({},e),{},{userEmailInput:t.value,errorMsg:""}):e;case s:if(e.pageName!==S)return q(q({},e),{},{pageName:x,titleText:re,bodyText:Q,primaryButtonText:W,secondaryButtonText:z,errorMsg:""});var n,r,i=h.CurrentUser&&!h.CurrentUser.isUnder13,o=i?ce:t.settingsUiPolicy.isParentalControlsV2Enabled?se:le,a=G,c="";switch(e.skipCallback&&(c=$),e.origin){case C:r=ae,n=!i&&t.settingsUiPolicy.isParentalControlsV2Enabled?ne:te,a=X,c=J;break;case N:case k:r=oe,n=i?ue:de,a=Y;break;default:r=ie,n=i?Z:ee}return q(q({},e),{},{pageName:S,titleText:r,bodyText:n,primaryButtonText:a,secondaryButtonText:c,errorMsg:"",userEmailInputPlaceholder:o});default:return e}}function F(e){var t=e.children,e=(n=K((0,R.useReducer)(V,pe),2))[0],n=n[1];return I().createElement(me.Provider,{value:{emailUpsellState:e,dispatch:n}},t)}var G="Action.SendConfirmationEmail",W="Action.ResendConfirmationEmail",z="Action.ChangeEmail",$="Action.GenericSkip",Y="Action.Continue",X="Action.FinishSetup",J="Action.LogoutWithRisk",Q="Description.VerifyEmailBody",Z="Description.AddEmailTextOver13",ee="Description.AddEmailTextUnder13",te="Description.AddEmailTextStrongMessaging",ne="Description.AddEmailTextStrongMessagingU13",re="Heading.VerifyEmail",ie="Heading.AddEmail",oe="Heading.PleaseAddEmail",ae="Heading.CompleteSetupOnLogout",ce="Label.EmailInputPlaceholderOver13",le="Label.EmailInputPlaceholderUnder13",se="Label.EmailInputPlaceholderUnder13V2",ue="Description.PleaseEnterEmail",de="Description.PleaseEnterParentEmail",pe={pageName:"",isModalOpen:!1,isEmailVerified:!1,isEmailSent:!1,isEmailUpdating:!1,isEmailAdded:!1,origin:"",experimentParameters:null,userEmail:"",userEmailInput:"",userEmailInputPlaceholder:ce,errorMsg:"",titleText:re,bodyText:Q,primaryButtonText:W,secondaryButtonText:z,skipCallback:null,closeCallback:null},me=(0,R.createContext)(pe);function fe(){return(0,R.useContext)(me)}F.propTypes={children:n().node.isRequired};var he=ReactStyleGuide,ye=HeaderScripts,ve=(!!h.DeviceMeta&&(0,h.DeviceMeta)()).isAndroidApp;function be(e){var t=e.show,n=e.onHide,r=e.onPrimaryAction,i=e.onSecondaryAction,o=e.onInputChange,a=e.onBackAction,c=e.onInputFocus,l=e.onKeyDown,s=e.translate,u=fe().emailUpsellState,d=u.pageName,p=u.titleText,m=u.bodyText,f=u.primaryButtonText,h=u.secondaryButtonText,y=u.userEmailInput,v=u.userEmailInputPlaceholder,b=u.userEmail,g=u.errorMsg,E=u.isEmailSent,e=u.isEmailUpdating,u=null===ye.authenticatedUser||void 0===ye.authenticatedUser?void 0:ye.authenticatedUser.isUnder13;return I().createElement(he.Modal,{show:t,onHide:n,className:"".concat(ve?"verification-android-modal":""," verification-modal"),size:"lg","aria-labelledby":"verification-upsell-modal-title",scrollable:"true",centered:"true"},I().createElement(he.Modal.Header,{useBaseBootstrapComponent:!0},I().createElement("div",{className:"verification-upsell-title-container"},I().createElement(he.Modal.Title,{id:"verification-upsell-modal-title"},s(p))),d===w?I().createElement("button",{type:"button",className:"close close-button",onClick:a},I().createElement("span",{className:"icon-back"})):I().createElement("button",{type:"button",className:"close close-button",onClick:n},I().createElement("span",{className:"icon-close"}))),I().createElement(he.Modal.Body,null,I().createElement("div",{className:"email-verification-upsell-image"}),I().createElement("p",{className:"verification-upsell-text-body"},s(m,{emailAddress:b})),d===S&&I().createElement("input",{type:"email",autoFocus:!0,className:"".concat(g?"input-field-error":""," form-control input-field verification-upsell-modal-input"),placeholder:s(v),autoComplete:"email",value:y,onChange:function(e){return o(e.target.value)},onFocus:function(){return c()},onKeyDown:function(e){return l(e.key)}}),g&&I().createElement("p",{className:"text-error modal-error-message sms-code-error"},s(g)),d===S&&u&&I().createElement("div",{className:"privacy-policy-button"},I().createElement("a",{href:O,target:"_blank",rel:"noreferrer"},s(D)))),I().createElement(he.Modal.Footer,null,I().createElement("div",{className:"verification-upsell-footer-container"},d!==x&&I().createElement(he.Button,{className:"modal-button verification-upsell-btn",variant:he.Button.variants.cta,size:he.Button.sizes.medium,isDisabled:e,onClick:r},s(f)),d===x&&I().createElement("button",{type:"button",className:"".concat(E?"resend-button-disabled":""," resend-verification-email-button"),disabled:E||g,onClick:r},s(f)),h&&I().createElement("button",{type:"button",className:"change-email-button",onClick:i},s(h)))))}function ge(){return{retryable:!0,withCredentials:!0,url:"".concat(xe,"/v1/email")}}function Ee(e){var t=null==e||null===(t=e.data)||void 0===t?void 0:t.errors;return t&&t[0]&&t[0].code}be.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,show:n().bool.isRequired,onPrimaryAction:n().func.isRequired,onSecondaryAction:n().func.isRequired,onInputChange:n().func.isRequired,onKeyDown:n().func.isRequired,onBackAction:n().func.isRequired,onInputFocus:n().func.isRequired};var Pe=be,xe=h.EnvironmentUrls.accountSettingsApi,Se=h.EnvironmentUrls.authApi,we=h.EnvironmentUrls.apiGatewayUrl,Ce=h.EnvironmentUrls.accountInformationApi,Ne={header:"alt_title",body:"alt_body",primaryButton:"alt_primary_button_text",secondaryButton:"alt_secondary_button_text"},Te=function(){return{retryable:!0,withCredentials:!0,url:"".concat(we,"/universal-app-configuration/v1/behaviors/account-settings-ui/content")}};function Ae(){var e=Te();return m.httpService.get(e).then(function(e){return e.data},function(e){return{}})}function ke(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function Oe(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){ke(r,t,n,i,o,"next",e)}function o(e){ke(r,t,n,i,o,"throw",e)}i(void 0)})}}function Me(){var e={retryable:!0,withCredentials:!0,url:"".concat(xe,"/v1/email/verify")};return m.httpService.post(e).then(function(){return!0},Ee)}function Re(e){return De({origin:N,closeCallback:e})}function Ie(e){switch(e){case x:return Ke;case S:return _e;default:return""}}var De=function(){var e=Oe(regeneratorRuntime.mark(function e(n){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return r=e.sent,t=ge(),e.abrupt("return",m.httpService.get(t).then(function(e){var t=e.data;return null!=t&&t.emailAddress&&(!n.requireVerification||t.verified)||(e=new CustomEvent("OpenVerificationModal",{detail:{isEmailVerified:t.verified,email:null==t?void 0:t.emailAddress,skipCallback:n.skipCallback,origin:n.origin,experimentParameters:null==n?void 0:n.experimentParameters,requireVerification:n.requireVerification,closeCallback:n.closeCallback,settingsUiPolicy:r}}),window.dispatchEvent(e)),t},function(e){return console.log(e),!1}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Oe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={retryable:!0,withCredentials:!0,url:"".concat(Se,"/v2/metadata")},e.abrupt("return",m.httpService.get(t));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Oe(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={retryable:!0,withCredentials:!0,url:"".concat(we,"/product-experimentation-platform/v1/projects/1/layers/Website.Logout.ContactMethodModal/values")},n={parameters:Object.values(Ne).join(",")},e.abrupt("return",m.httpService.get(t,n));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Oe(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:if(n=e.sent,null!==(n=n.data)&&void 0!==n&&n.IsEmailUpsellAtLogoutEnabled){e.next=5;break}return e.abrupt("return",!1);case 5:return r={},e.prev=6,e.next=9,Le();case 9:r=e.sent,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:return e.abrupt("return",De({origin:C,experimentParameters:null===(n=r)||void 0===n?void 0:n.data,skipCallback:t}));case 16:case"end":return e.stop()}},e,null,[[6,12]])}));return function(){return e.apply(this,arguments)}}(),_e="addEmail",Ke="verifyEmail",Be="addPhone",He="verifyPhone",qe="phoneAdded",Ve="discoverabilityConsent",Fe="unset",Ge="homepage",We=L,ze=_,$e=U,Ye=Kn=9,Xe=6,Je=CoreRobloxUtilities;function Qe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ze(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Qe(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function et(e,t){Je.eventStreamService.sendEventWithTarget(e.type,e.context,Ze(Ze({},e.params),{},{origin:t.origin,section:t.section}))}function tt(e,t){return(e=Ze({},e)).params=Ze(Ze({},e.params),{},{errorCode:t}),e}var nt=Je.eventStreamService.eventTypes,rt="verificationUpsell",it={showModal:{name:"showModal",type:nt.modalAction,context:rt,params:{aType:"shown"}},dismissModal:{name:"dismissModal",type:nt.modalAction,context:rt,params:{aType:"dismissed"}},touchEmail:{name:"touchEmail",type:nt.formInteraction,context:rt,params:{aType:"focus",field:"email"}},showError:{name:"showError",type:nt.formInteraction,context:rt,params:{aType:"shown",field:"errorMessage"}},clickContinue:{name:"clickContinue",type:nt.formInteraction,context:rt,params:{btn:"continue"}},clickSendConfirmationEmail:{name:"clickSendConfirmationEmail",type:nt.formInteraction,context:rt,params:{aType:"click",btn:"sendConfirmation"}},clickResendConfirmationEmail:{name:"clickResendConfirmationEmail",type:nt.formInteraction,context:rt,params:{aType:"click",btn:"resendConfirmation"}},clickChangeEmail:{name:"clickChangeEmail",type:nt.formInteraction,context:rt,params:{aType:"click",btn:"changeEmail"}},skipLogoutAnyway:{name:"skipLogoutAnyway",type:nt.formInteraction,context:rt,params:{aType:"click",btn:"skipLogoutAnyway"}},skipPrepurchaseVerification:{name:"skipPrepurchaseVerification",type:nt.formInteraction,context:rt,params:{aType:"click",btn:"skipPrepurchaseVerification"}}};function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ct=j,lt=L,st=Kn;function ut(e){var t=e.translate,n=ot((0,R.useState)(!1),2),e=n[0],r=n[1],n=fe(),i=n.emailUpsellState,o=n.dispatch;function a(){var e,t,r=Ie(i.pageName);switch(i.pageName){case x:et(it.clickResendConfirmationEmail,{origin:i.origin,section:r}),Me().then(function(e){!0!==e?(o({type:p,errorMsg:ct}),e=tt(it.showError,e),et(e,{origin:i.origin,section:r})):(o({type:y}),setTimeout(function(){o({type:v})},15e3))});break;case S:et(it.clickContinue,{origin:i.origin,section:r}),t=i.userEmailInput,/\S+@\S+\.\S+/.test(t)?(et(it.clickSendConfirmationEmail,{origin:i.origin,section:r}),o({type:b,isEmailUpdating:!0}),e={emailAddress:i.userEmailInput},t=ge(),m.httpService.post(t,e).then(function(){return!0},Ee).then(function(e){var t,n;!0!==e?(n=function(e){switch(e){case Xe:return ze;case Ye:return We;default:return $e}}(e),t=tt(it.showError,e),et(t,{origin:i.origin,section:r}),o({type:p,errorMsg:n}),o({type:b,isEmailUpdating:!1})):(o({type:l,isEmailVerified:!1,userEmail:(e=i.userEmailInput,t=e.indexOf("@"),n=e.substring(0,1),"".concat(n,"*****").concat(e.substring(t)))}),o({type:E}),o({type:u,pageName:x}),o({type:s}),o({type:b,isEmailUpdating:!1}),o({type:P}))}),o({type:s})):(e=tt(it.showError,st),et(e,{origin:i.origin,section:r}),o({type:p,errorMsg:lt}))}}return(0,R.useEffect)(function(){i.pageName&&et(it.showModal,{origin:i.origin,section:Ie(i.pageName)})},[i.pageName]),(0,R.useEffect)(function(){window.addEventListener("OpenVerificationModal",function(e){r(!0),o({type:g,origin:e.detail.origin,skipCallback:e.detail.skipCallback,closeCallback:e.detail.closeCallback}),o({type:l,isEmailVerified:e.detail.isEmailVerified,userEmail:e.detail.email});var t=e.detail.requireVerification&&e.detail.email?x:S;o({type:u,pageName:t}),o({type:s,experimentParameters:null===(t=e.detail)||void 0===t?void 0:t.experimentParameters,settingsUiPolicy:null===(e=e.detail)||void 0===e?void 0:e.settingsUiPolicy})},!1)},[]),I().createElement("div",null,I().createElement(Pe,{show:e,onHide:function(){return et(it.dismissModal,{origin:i.origin,section:Ie(i.pageName)}),o({type:E}),i.closeCallback&&i.closeCallback(i.isEmailAdded),void r(!1)},onPrimaryAction:a,onSecondaryAction:function(){var e=Ie(i.pageName);switch(i.pageName){case x:et(it.clickChangeEmail,{origin:i.origin,section:e}),o({type:u,pageName:S}),o({type:s});break;case S:i.skipCallback&&(et(i.origin===C?it.skipLogoutAnyway:it.skipPrepurchaseVerification,{origin:i.origin,section:e}),i.skipCallback()),o({type:E}),r(!1)}},onInputFocus:function(){et(it.touchEmail,{origin:i.origin,section:Ie(i.pageName)})},onInputChange:function(e){o({type:d,pageName:S,value:e})},onKeyDown:function(e){return e===M&&a()},onBackAction:function(){return o({type:u,pageName:S}),void o({type:s})},translate:t}))}ut.propTypes={translate:n().func.isRequired};var dt=ut;function pt(e){e=e.translate;return I().createElement(F,null,I().createElement(dt,{translate:e}))}pt.propTypes={translate:n().func.isRequired};var mt=(0,i.withTranslations)(pt,a),ft="CLOSE_PHONE_NUMBER_MODAL",ht="SET_ERROR_MESSAGE",yt="SET_PHONE_NUMBER",vt="SET_COUNTRY",bt="SET_PAGE",gt="SET_PHONE_VERIFICATION_STATUS",Et="SET_PREFIX_OPTIONS_LIST",Pt="SET_LOGGING_VALUES",xt="SET_DISCOVERABILITY_CONSENT_PREFILL",St="Action.Done",wt="Action.Continue",Ct="Action.AddPhoneNumber",Nt="Action.ChangePhoneNumber",Tt="Action.ResendCode",At="Action.CodeResent",kt="Heading.VerifyYourPhone",Ot="Label.EnterCode",Mt="Label.PhoneNumber",Rt="Heading.VerificationCode",It="Message.InvalidSmsCode",Dt="Description.VerificationCodeSmsFeesMayApply",jt="Description.PhoneNumberNeverPublic",Lt="Description.ShortCodeLegalDisclaimer",Ut="Heading.PhoneIsVerified",_t="Description.PhoneForRecovery",Kt="Response.PhoneNumberAlreadyLinked",Bt="Response.TooManyVerificationAttempts",Ht="Response.PhoneHasTooManyAssociatedAccounts",qt="Response.ErrorPhoneFormatInvalid",Vt="Response.InvalidPhoneNumberError",Ft="Response.ErrorTryAgain",Gt="Label.Dialog.EditPhoneCurrentNumber",Wt="Description.Dialog.EditPhoneWarning",zt="Action.Dialog.EditPhonePrimary",$t="Action.Dialog.EditPhoneSecondary",Yt="Heading.Dialog.RemovePhone",Xt="Action.Dialog.RemovePhonePrimary",Jt="Action.Dialog.RemovePhoneSecondary",Qt="Description.Dialog.RemovePhoneWarning",Zt='<a href="https://en.help.roblox.com/hc/articles/9483830673556-Roblox-SMS-Terms-of-Service">',en='<a href="https://en.help.roblox.com/hc/articles/115004630823">',tn="</a>",nn="<br>",rn="Action.Done",on="Action.LearnMore",an="Description.PhoneDiscoverabilityPrivacy",cn="Description.WantToBeRecommendedViaPhone",ln="Header.LetFriendsFindYou",sn="Label.No",un="Label.Yes",dn="Response.ErrorTryAgain",pn="Heading.VerificationRequired",mn="Heading.DontGetLockedOut",fn="Label.RecoverIfPasswordLost",hn="Heading.ImproveAccountSecurity",yn="Label.KeepBadActorsOut",vn="Action.AddPhoneNumber",bn="Action.AddEmailAddress",gn="Action.LogOutText",En="Action.Support",Pn="US",xn=function(e){return"+".concat(e)},Sn=function(e,t){return"".concat(e," +(").concat(t,")")},wn=function(e,t){return"\n+".concat(e).concat(t)},Cn="Enter",Nn=" (",Tn=")",An=6,kn=10,On="US",Mn=2,t=3,_=6,U=8,nt=9,rt=7,j=6,Rn="upsell-phone-number-number",In="verification-code-input",Dn="ADD_PHONE_NUMBER_PAGE",jn="VERIFY_PHONE_NUMBER_PAGE",Ln="ADD_PHONE_SUCCESS_PAGE",Un="DELETE_PHONE_CONFIRM_PAGE",_n="PHONE_DISCOVERABILITY_CONSENT_PAGE",L=Je.eventStreamService.eventTypes,Kn="verificationUpsell",Bn={phoneNumberModalDismissed:{name:"phoneNumberModalDismissed",type:L.modalAction,context:Kn,params:{aType:"dismissed"}},phoneNumberModalShown:{name:"phoneNumberModalShown",type:L.modalAction,context:Kn,params:{aType:"shown"}},phoneNumberModalErrorShown:{name:"phoneNumberModalErrorShown",type:L.modalAction,context:Kn,params:{aType:"shown",field:"errorMessage"}},addPhonePrefixPressed:{name:"addPhonePrefixPressed",type:L.formInteraction,context:Kn,params:{aType:"focus",field:"countryPrefix"}},addPhonePhoneNumberPressed:{name:"addPhonePhoneNumberPressed",type:L.formInteraction,context:Kn,params:{aType:"focus",field:"phoneNumber"}},addPhoneContinuePressed:{name:"addPhoneContinuePressed",type:L.formInteraction,context:Kn,params:{btn:"continue"}},verifyPhoneChangePhoneNumberPressed:{name:"verifyPhoneChangePhoneNumberPressed",type:L.formInteraction,context:Kn,params:{btn:"changePhoneNumber"}},verifyPhoneCodeFieldPressed:{name:"verifyPhoneCodeFieldPressed",type:L.formInteraction,context:Kn,params:{aType:"focus",field:"verificationCode"}},verifyPhoneContinuePressed:{name:"verifyPhoneContinuePressed",type:L.formInteraction,context:Kn,params:{btn:"continue"}},verifyPhoneResendPressed:{name:"verifyPhoneResendPressed",type:L.formInteraction,context:Kn,params:{btn:"resendCode"}},phoneAddedDonePressed:{name:"phoneAddedDonePressed",type:L.formInteraction,context:Kn,params:{btn:"done"}}};function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Fn(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Vn(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Gn(e,t){var n;switch(t.type){case yt:return Fn(Fn({},e),{},{phone:t.phone,errorMessage:""});case vt:return Fn(Fn({},e),{},{phonePrefixPickerIndex:t.phonePrefixPickerIndex,errorMessage:""});case ht:return Fn(Fn({},e),{},{errorMessage:t.errorMessage});case bt:return Fn(Fn({},e),{},{errorMessage:"",pageName:t.pageName});case gt:return Fn(Fn({},e),{},{isPhoneVerified:t.isPhoneVerified});case xt:return Fn(Fn({},e),{},{shouldPrefillAffirmativeDiscoverabilityConsent:null!==(n=null==t?void 0:t.shouldPrefillAffirmativeDiscoverabilityConsent)&&void 0!==n&&n});case Et:return Fn(Fn({},e),{},{phonePrefixOptionsList:t.phonePrefixOptionsList});case Pt:return Fn(Fn({},e),{},{origin:t.origin});case ft:return Fn(Fn({},zn),{},{isOpen:!1,errorMessage:""});default:return zn}}function Wn(e){var t=e.children,e=(n=Hn((0,R.useReducer)(Gn,zn),2))[0],n=n[1];return I().createElement($n.Provider,{value:{phoneUpsellState:e,dispatch:n}},t)}var zn={isOpen:!0,pageName:Dn,errorMessage:"",origin:Fe,phone:"",isPhoneVerified:!1,phonePrefixPickerIndex:0,phonePrefixOptionsList:[],shouldDiscoverabilityConsentDefaultYes:!1},$n=(0,R.createContext)(zn);function Yn(){return(0,R.useContext)($n)}function Xn(e){return m.httpService.get(e).then(function(e){var t,n=e.data,e=n.find(function(e){return!0===e.isDefault}),r=null!==(e=null==e?void 0:e.code)&&void 0!==e?e:ir;return n.filter(function(e){return e.code!==r||(t=e,!1)}),t&&n.unshift(t),n},function(e){return!1})}function Jn(){var e={retryable:!0,withCredentials:!0,url:"".concat(we,"/phone-number-api/v1/phone-prefix-list")};return Xn(e)}function Qn(e){var t=e.phone,n=e.prefix,r=e.countryCode,e={retryable:!0,withCredentials:!0,url:"".concat(Ce,"/v1/phone")},t={countryCode:r,prefix:n,phone:t};return m.httpService.post(e,t)}function Zn(e){var t={code:0<arguments.length&&void 0!==e?e:""},e={retryable:!0,withCredentials:!0,url:"".concat(Ce,"/v1/phone/verify")};return m.httpService.post(e,t)}function er(e){var t={retryable:!0,withCredentials:!0,url:"".concat(Ce,"/v1/phone/resend")},e=(e=e)||{};return m.httpService.post(t,e).then(function(e){e.data;return!0},function(e){return!1})}function tr(){var e={retryable:!0,withCredentials:!0,url:"".concat(Ce,"/v1/phone/delete")};return m.httpService.post(e,{})}function nr(e){switch(e){case pr:return or;case mr:return ar;case hr:return cr;case yr:return lr;case fr:return ur;default:return sr}}function rr(e){switch(e){case Dn:return Be;case jn:return He;case Ln:return qe;case _n:return Ve;default:return""}}Wn.propTypes={children:n().node.isRequired};var ir=Pn,or=Kt,ar=Bt,cr=qt,lr=Vt,sr=Ft,ur=Ht,dr=It,pr=t,mr=_,fr=nt,hr=Mn,yr=U,vr=rt,br=j;function gr(e){var t=e.translate,e=Yn().phoneUpsellState;return I().createElement("p",{className:"input-field-error-text sms-code-error text-error modal-error-message"},e.errorMessage?t(e.errorMessage):null)}gr.propTypes={translate:n().func.isRequired};var Er=gr;function Pr(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function xr(e){var t=e.translate,n=Yn(),r=n.phoneUpsellState,i=n.dispatch,o=xn,a=Sn,c=r.phone,e=r.phonePrefixPickerIndex,l=r.phonePrefixOptionsList,n=r.pageName,s=r.origin,r=Rn,u=rr(n);(0,R.useEffect)(function(){function e(){var c;return c=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===(t=l).length)return e.next=4,Jn();e.next=6;break;case 4:t=e.sent,i({type:Et,phonePrefixOptionsList:t});case 6:case"end":return e.stop()}},e)}),(e=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){Pr(r,t,n,i,o,"next",e)}function o(e){Pr(r,t,n,i,o,"throw",e)}i(void 0)})}).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var d=null!==(d=null==l||null===(d=l[e])||void 0===d?void 0:d.prefix)&&void 0!==d?d:"";return I().createElement("div",null,I().createElement("label",{htmlFor:r},I().createElement("p",{className:"verification-code-label font-caption-header text-primary"},t(Mt))),I().createElement("div",{id:"upsell-phone",className:"phone-number-input-container input-field form-control"},I().createElement("div",{id:"upsell-phonenumber",className:"phone-input-row"},I().createElement("span",{className:"phone-prefix-wrapper"},I().createElement("div",{className:"phone-prefix-selected text"},o(d)),I().createElement("select",{className:"phone-prefix-dropdown input-field rbx-select",onChange:function(e){e=e.target.value;i({type:vt,phonePrefixPickerIndex:e})},onFocus:function(){et(Bn.addPhonePrefixPressed,{origin:s,section:u})},value:e},l.map(function(e,t){return I().createElement("option",{className:"prefix-option",value:t},a(e.localizedName,e.prefix))}))),I().createElement("div",{id:"upsell-phonenumber-divider",className:"phone-divider"}),I().createElement("input",{id:r,type:"tel",value:c,className:"phone-input form-control",placeholder:t(Mt),autoComplete:"tel-national",onChange:function(e){return i({type:yt,phone:e.target.value})},onFocus:function(){et(Bn.addPhonePhoneNumberPressed,{origin:s,section:u})}}))))}xr.propTypes={translate:n().func.isRequired};var Sr=xr;function wr(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=Ct,Ct=wt,Dt=Dt,Tr=jt,Lt=Lt,Ar=Gt,kr=Wt,Or=zt,Mr=$t,Rr=tn,Ir=en,Dr=Zt,jr=nn;function Lr(e){var t=e.translate,n=e.onHide,r=e.existingPhoneNumber,i=e.alwaysShowLegalText,o=e.requireLegalTextCheckbox,a=e.headingKey,c=e.descriptionKey,l=e.legalTextKey,s=e.buttonKey,u=Yn(),d=u.phoneUpsellState,p=u.dispatch,m=d.phone,f=d.phonePrefixPickerIndex,h=d.phonePrefixOptionsList,y=d.pageName,v=d.origin,e=Cr((0,R.useState)(!1),2),u=e[0],b=e[1],d=Cr((0,R.useState)(!1),2),e=d[0],g=d[1],d=Cr((0,R.useState)(!1),2),E=d[0],P=d[1],x=rr(y);(0,R.useEffect)(function(){var e=null==h||null===(e=h[f])||void 0===e?void 0:e.code;g(!i&&e!==On)},[i,h,f]);var l=t(l,{linkTagWithSmsTos:Dr,linkTagWithPrivacyPolicy:Ir,linkTagEnd:Rr,linkTagBreak:jr}),S=function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),n=h[f],t=n.prefix,n=n.code,et(Bn.addPhoneContinuePressed,{origin:v,section:x}),e.next=5,Qn({phone:m,prefix:t,countryCode:n}).then(function(){p({type:bt,pageName:jn})}).catch(function(e){var t=Ee(e),e=tt(Bn.phoneNumberModalErrorShown,t);et(e,{origin:v,section:x}),p({type:ht,errorMessage:nr(t)})}).finally(function(){b(!1)});case 5:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){wr(r,t,n,i,o,"next",e)}function o(e){wr(r,t,n,i,o,"throw",e)}i(void 0)})});return function(){return e.apply(this,arguments)}}();return I().createElement("div",null,I().createElement(he.Modal.Header,{useBaseBootstrapComponent:!0},I().createElement("div",{className:"verification-upsell-title-container"},I().createElement(he.Modal.Title,{id:"verification-upsell-modal-title"},t(r?Or:a))),I().createElement("button",{type:"button",className:"close close-button",onClick:n},I().createElement("span",{className:"icon-close"}))),I().createElement(he.Modal.Body,null,I().createElement("div",{className:"phone-number-submission-container"},I().createElement("div",{className:"verification-upsell-text-body text-description"},t(c)),r&&I().createElement(I().Fragment,null,I().createElement("div",{className:"verification-upsell-text-body text-description"},t(Ar)," ",r),I().createElement("div",{className:"border-warning two-step-warning"},I().createElement("span",{className:"icon-warning-orange"}),I().createElement("span",{className:"small text-warning form-warning-text"},t(kr)))),I().createElement(Sr,{translate:t}),I().createElement("div",{className:"phone-verification-nonpublic-text text-description font-caption-body"},t(Tr)),I().createElement(Er,{translate:t}))),I().createElement(he.Modal.Footer,null,o?I().createElement("div",{className:"phone-verification-legal-container checkbox"},I().createElement("input",{id:"phone-verification-legal-checkbox",className:"checkbox",type:"checkbox",checked:E,onChange:function(){return P(!E)}}),I().createElement("label",{className:"text-description font-caption-body phone-verification-legal-text",hidden:e,htmlFor:"phone-verification-legal-checkbox",dangerouslySetInnerHTML:{__html:l}})):I().createElement("div",{className:"text-description font-caption-body phone-verification-legal-text",hidden:e,dangerouslySetInnerHTML:{__html:l}}),I().createElement("div",{className:"buttons-section"},I().createElement(he.Button,{type:"button",id:"add-phone-number-continue-button",className:"accept-btn",variant:he.Button.variants.primary,isDisabled:u||0===m.length||o&&!E,onClick:function(){return S()}},t(s))),I().createElement("div",null,r&&I().createElement("span",{className:"text-report remove-phone-label",onClick:function(){return p({type:bt,pageName:Un})},onKeyDown:function(){return p({type:bt,pageName:Un})},role:"button",tabIndex:0},t(Mr)))))}Lr.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,existingPhoneNumber:n().string,alwaysShowLegalText:n().bool,requireLegalTextCheckbox:n().bool,headingKey:n().string,descriptionKey:n().string,legalTextKey:n().string,buttonKey:n().string},Lr.defaultProps={existingPhoneNumber:null,alwaysShowLegalText:!1,requireLegalTextCheckbox:!1,headingKey:j,descriptionKey:Dt,legalTextKey:Lt,buttonKey:Ct};var Ur=Lr;function _r(e){var t=e.translate,n=e.onHide,r=e.headingKey,i=e.descriptionKey,o=Yn().phoneUpsellState,a=o.origin,e=o.pageName,o=St,c=rr(e);return I().createElement("div",null,I().createElement(he.Modal.Body,null,I().createElement("div",{className:"phone-number-verification-upsell-image"}),I().createElement("div",{className:"verification-upsell-title-container phone-number-verification-success-page-title page-title"},I().createElement(he.Modal.Title,{id:"verification-upsell-modal-title"},t(r))),I().createElement("div",{className:"phone-number-verification-text-body text-description"},t(i))),I().createElement(he.Modal.Footer,null,I().createElement("button",{type:"button",className:"btn-cta-md btn-max-width phone-number-verify-button",onClick:function(){et(Bn.phoneAddedDonePressed,{origin:a,section:c}),n()}},t(o))))}function Kr(){var e={retryable:!0,withCredentials:!0,url:"".concat(we,"/user-settings-api/v1/user-settings/metadata")};return m.httpService.get(e).then(function(e){return e.data},function(e){return null})}function Br(e){var t={retryable:!0,withCredentials:!0,url:"".concat(we,"/user-settings-api/v1/user-settings")},e={phoneNumberDiscoverability:e};return m.httpService.post(t,e).then(function(e){return!0}).catch(function(){return!1})}_r.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,headingKey:n().string,descriptionKey:n().string},_r.defaultProps={headingKey:Ut,descriptionKey:_t};var Hr=_r,qr="Unset",Vr="NotDiscoverable",Fr="Discoverable",Gr="discoverabilityPageLoad",Wr="discoverabilityPageClick",zr="discoverabilityPageRadioButtonClick";function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e){var t=e.translate,n=e.shouldPrefillAffirmativeDiscoverabilityConsent,r=e.origin,i=e.onHide,o=e.headingKey,a=e.descriptionKey,c=Yn().dispatch,l=rn,s=on,u=an,d=cn,p=ln,m=sn,f=un,h=dn,y=Gr,v=Wr,b=zr,g=$r((0,R.useState)(n?Fr:qr),2),E=g[0],P=g[1],e=$r((0,R.useState)(!1),2),g=e[0],x=e[1],e=function(e){P(e.currentTarget.value),Je.eventStreamService.sendEventWithTarget(b,e.currentTarget.value,{origin:r})};return(0,R.useEffect)(function(){Je.eventStreamService.sendEventWithTarget(y,"phoneVerificationUpsell",{version:n?"non_eu_version":"eu_version",origin:r})},[]),I().createElement("div",{className:"phone-discoverability-consent"},I().createElement(he.Modal.Body,{className:"verification-grid"},I().createElement("span",{className:"icon-spot-success-xl verification-grid-icon"}),I().createElement("div",{className:"discoverability-text-section"},I().createElement("div",{className:"verification-upsell-title-container page-title "},I().createElement(he.Modal.Title,null,t(o))),I().createElement("div",{className:"text-description"},t(a))),I().createElement("span",{className:"icon-spot-find-friends-xl verification-grid-icon"}),I().createElement("div",{className:"discoverability-text-section"},I().createElement("div",{className:"verification-upsell-title-container page-title"},I().createElement(he.Modal.Title,null,t(p))),I().createElement("div",{className:"text-description"},t(d))),I().createElement("div",{className:"verification-grid-icon"}),I().createElement("div",{className:"discoverability-radio-button-section"},I().createElement("div",{className:"radio discoverability-consent-option"},I().createElement("input",{type:"radio",name:"discoverability-options",id:"consent-radio-button",value:Fr,checked:E===Fr,onClick:e}),I().createElement("label",{className:"text-description",htmlFor:"consent-radio-button"},t(f))),I().createElement("div",{className:"radio discoverability-consent-option"},I().createElement("input",{type:"radio",name:"discoverability-options",id:"no-consent-radio-button",value:Vr,checked:E===Vr,onClick:e}),I().createElement("label",{className:"text-description",htmlFor:"no-consent-radio-button"},t(m)))),I().createElement("div",{className:"verification-grid-icon"}),I().createElement("div",null,I().createElement("div",{className:"text-secondary"},t(u)),I().createElement("a",{className:"text-secondary text-link learn-more-link",target:"_blank",rel:"noreferrer",href:"https://en.help.roblox.com/hc/articles/7416652004884"},t(s)))),I().createElement(he.Modal.Footer,null,I().createElement(Er,{translate:t}),I().createElement("button",{type:"button",className:"btn-cta-md btn-max-width phone-number-verify-button",disabled:g,onClick:function(){x(!0),Je.eventStreamService.sendEventWithTarget(v,E,{origin:r}),Br(E).then(function(e){return!0!==e?(x(!1),void c({type:ht,errorMessage:h})):(c({type:ht,errorMessage:""}),void i())})}},t(l))))}function Jr(e){return e.replace(/[^0-9]/g,"").substring(0,Zr)}Xr.propTypes={origin:n().string.isRequired,translate:n().func.isRequired,shouldPrefillAffirmativeDiscoverabilityConsent:n().bool.isRequired,onHide:n().func.isRequired,headingKey:n().string,descriptionKey:n().string},Xr.defaultProps={headingKey:Ut,descriptionKey:_t};var Qr=Xr,Zr=An;function ei(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ti(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ei(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ni(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function ri(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){ni(r,t,n,i,o,"next",e)}function o(e){ni(r,t,n,i,o,"throw",e)}i(void 0)})}}function ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ai(e){var t=e.translate,n=e.onHide,r=e.onVerify,i=Yn(),o=i.phoneUpsellState,a=i.dispatch,c=o.phone,l=o.phonePrefixOptionsList,s=o.phonePrefixPickerIndex,u=o.pageName,d=o.origin,p=ii((0,R.useState)({code:"",isReadyToSubmitCode:""}),2),m=p[0],f=p[1],h=rr(u),y=ii((0,R.useState)(0),2),v=y[0],b=y[1],g=ii((0,R.useState)(!1),2),E=g[0],P=g[1],x=ii((0,R.useState)(!1),2),S=x[0],w=x[1],C=kt,N=Nt,T=wt,e=Tt,i=At,p=Ot,u=Rt,y=In,A=Cn,k=An,g=Nn,x=Tn,O=kn,c=wn(l[s].prefix,c);function M(){return(M=ri(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(et(Bn.verifyPhoneContinuePressed,{origin:d,section:h}),m.code.length!==k)return e.abrupt("return");e.next=3;break;case 3:return P(!0),a({type:ht,errorMessage:""}),e.prev=5,e.next=8,Zn(m.code);case 8:return a({type:gt,isPhoneVerified:!0}),e.next=11,r();case 11:e.next=20;break;case 13:e.prev=13,e.t0=e.catch(5),n=Ee(e.t0),t=function(e){switch(e){case br:return ar;case vr:return dr;default:return sr}}(n),n=tt(Bn.phoneNumberModalErrorShown,n),et(n,{origin:d,section:h}),a({type:ht,errorMessage:t});case 20:return e.prev=20,f(ti(ti({},m),{},{isReadyToSubmitCode:!1})),P(!1),e.finish(20);case 24:case"end":return e.stop()}},e,null,[[5,13,20,24]])}))).apply(this,arguments)}return(0,R.useEffect)(function(){m.isReadyToSubmitCode&&function(){M.apply(this,arguments)}()},[m]),(0,R.useEffect)(function(){function e(){return(e=ri(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:e.sent.displayPhoneVerificationResendButton?w(!0):w(!1);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),I().createElement("div",null,I().createElement(he.Modal.Header,{useBaseBootstrapComponent:!0},I().createElement("div",{className:"verification-upsell-title-container"},I().createElement(he.Modal.Title,{id:"verification-upsell-modal-title"},t(C))),I().createElement("button",{type:"button",className:"close close-button",onClick:n},I().createElement("span",{className:"icon-close"}))),I().createElement(he.Modal.Body,null,I().createElement("div",{className:"phone-number-verification-upsell-image"}),I().createElement("div",{className:"verification-upsell-text-body text-description"},t(p,{phoneNumber:c})),I().createElement("button",{type:"button",className:"phone-number-change-number-button phone-number-text-button",onClick:function(){et(Bn.verifyPhoneChangePhoneNumberPressed,{origin:d,section:h}),a({type:bt,pageName:Dn})}},t(N)),I().createElement("label",{htmlFor:y},I().createElement("p",{className:"verification-code-label font-caption-header text-primary"},t(u))),I().createElement("input",{id:y,type:"text",inputMode:"numeric",className:"".concat(o.errorMessage?"input-field-error":""," form-control input-field input-number verification-code-input"),onChange:function(e){return e=e.target.value,a({type:ht,errorMessage:""}),void f(ti(ti({},m),{},{code:Jr(e)}))},onPaste:function(e){e=(e.clipboardData||window.clipboardData).getData("text"),e=Jr(e),f({code:e,isReadyToSubmitCode:!0})},autoComplete:"one-time-code",placeholder:"000000",onKeyDown:function(e){e.key===A&&f(ti(ti({},m),{},{isReadyToSubmitCode:!0}))},onFocus:function(){et(Bn.verifyPhoneCodeFieldPressed,{origin:d,section:h})},value:m.code}),I().createElement(Er,{translate:t})),I().createElement(he.Modal.Footer,null,I().createElement("button",{type:"button",className:"btn-cta-md btn-max-width phone-number-verify-button",disabled:E||6!==m.code.length,onClick:function(){f(ti(ti({},m),{},{isReadyToSubmitCode:!0}))}},t(T)),S?0===v?I().createElement("button",{type:"button",className:" btn-secondary-md btn-max-width phone-number-resent-button",disabled:E,onClick:function(){var t;et(Bn.verifyPhoneResendPressed,{origin:d,section:h}),0===v&&(er(),0===v&&(t=setInterval(function(){b(function(e){return 1===e&&clearInterval(t),e-1})},1e3)),b(O))}},t(e)):I().createElement("button",{type:"button",className:" btn-secondary-md btn-max-width phone-number-resent-button btn-max-width resend-button-disabled"},t(i),I().createElement("span",null,g+v+x)):null))}ai.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,onVerify:n().func.isRequired};var ci=ai;function li(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(e){var t=e.translate,n=e.existingPhoneNumber,r=e.onHide,i=Yn().dispatch,o=Yt,a=Qt,c=Xt,l=Jt,s=si((0,R.useState)(!1),2),e=s[0],u=s[1],s=function(){var c,e=(c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,tr().then(function(){r()}).catch(function(e){e=Ee(e);i({type:ht,errorMessage:nr(e)})}).finally(function(){u(!1)});case 3:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){li(r,t,n,i,o,"next",e)}function o(e){li(r,t,n,i,o,"throw",e)}i(void 0)})});return function(){return e.apply(this,arguments)}}(),n=n.match(/\d+$/);return I().createElement("div",null,I().createElement(he.Modal.Header,{useBaseBootstrapComponent:!0},I().createElement("div",{className:"verification-upsell-title-container"},I().createElement(he.Modal.Title,{id:"verification-upsell-modal-title"},t(o))),I().createElement("button",{type:"button",className:"close close-button",onClick:r},I().createElement("span",{className:"icon-close"}))),I().createElement(he.Modal.Body,null,I().createElement("div",{className:"phone-number-verification-text-body text-description"},t(a,{phoneLast4:n}))),I().createElement(he.Modal.Footer,null,I().createElement(Er,{translate:t}),I().createElement(he.Button,{className:"delete-phone-btn",variant:he.Button.variants.primary,size:he.Button.sizes.medium,isLoading:e,onClick:s},t(c)),I().createElement(he.Button,{variant:he.Button.variants.secondary,size:he.Button.sizes.medium,isLoading:e,onClick:r},t(l))))}di.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired,existingPhoneNumber:n().string},di.defaultProps={existingPhoneNumber:null};var pi=di;function mi(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}var fi=function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(t=Ln),e.next=4,Kr();case 4:return!0===(null==(r=e.sent)?void 0:r.isDiscoverabilitySettingsEnabled)&&!0===(null==r?void 0:r.showDiscoverabilityUpsells)&&(t=_n,n=!0===(null==r?void 0:r.prefillDiscoverabilitySetting)),e.abrupt("return",{successPage:t,shouldPrefillAffirmativeDiscoverabilityConsent:n});case 7:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){mi(r,t,n,i,o,"next",e)}function o(e){mi(r,t,n,i,o,"throw",e)}i(void 0)})});return function(){return e.apply(this,arguments)}}();function hi(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function yi(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function i(e){hi(r,t,n,i,o,"next",e)}function o(e){hi(r,t,n,i,o,"throw",e)}i(void 0)})}}function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gi(e){function t(){et(Bn.phoneNumberModalDismissed,{origin:f.origin,section:x}),r(f.isPhoneVerified),h({type:ft})}var n=e.translate,r=e.onClose,i=e.origin,o=e.existingPhoneNumber,a=e.addPhoneAlwaysShowLegalText,c=e.addPhoneRequireLegalTextCheckbox,l=e.addPhoneHeadingKey,s=e.addPhoneDescriptionKey,u=e.addPhoneLegalTextKey,d=e.addPhoneButtonKey,p=e.beforeSuccess,m=e.renderInWebview,e=Yn(),f=e.phoneUpsellState,h=e.dispatch,e=vi((0,R.useState)(Ln),2),y=e[0],v=e[1],e=vi((0,R.useState)(void 0),2),b=e[0],g=e[1],e=vi((0,R.useState)(void 0),2),E=e[0],P=e[1],x=rr(f.pageName),S=function(){var e=yi(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p)return e.prev=1,e.next=4,p();e.next=15;break;case 4:t=e.sent,n=vi(t,2),t=n[0],n=n[1],g(t),P(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error from before success hook in phone verification: ".concat(e.t0),e.t0);case 15:h({type:bt,pageName:y});case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(){return e.apply(this,arguments)}}();return(0,R.useEffect)(function(){f.origin!==Fe&&et(Bn.phoneNumberModalShown,{origin:f.origin,section:x})},[f.pageName,f.origin]),(0,R.useEffect)(function(){h({type:Pt,origin:i})},[]),(0,R.useEffect)(function(){function e(){return(e=yi(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi();case 2:n=e.sent,t=n.successPage,n=n.shouldPrefillAffirmativeDiscoverabilityConsent,h({type:xt,shouldPrefillAffirmativeDiscoverabilityConsent:n}),v(t);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),I().createElement(he.Modal,{show:f.isOpen,onHide:t,className:m?"phone-verification-webview":"verification-modal",size:"lg","aria-labelledby":"verification-upsell-modal-title",scrollable:"true",centered:"true"},function(){switch(f.pageName){case Dn:return I().createElement(Ur,{translate:n,onHide:t,existingPhoneNumber:o,alwaysShowLegalText:a,requireLegalTextCheckbox:c,headingKey:l,descriptionKey:s,legalTextKey:u,buttonKey:d});case jn:return I().createElement(ci,{translate:n,onHide:t,onVerify:S});case Ln:return I().createElement(Hr,{translate:n,onHide:t,headingKey:b,descriptionKey:E});case Un:return I().createElement(pi,{translate:n,existingPhoneNumber:o,onHide:t});case _n:return I().createElement(Qr,{translate:n,onHide:t,origin:f.origin,shouldPrefillAffirmativeDiscoverabilityConsent:f.shouldPrefillAffirmativeDiscoverabilityConsent,headingKey:b,descriptionKey:E});default:return I().createElement(Ur,{translate:n,onHide:t})}}())}gi.propTypes={translate:n().func.isRequired,onClose:n().func.isRequired,origin:n().string,existingPhoneNumber:n().string,addPhoneAlwaysShowLegalText:n().bool,addPhoneRequireLegalTextCheckbox:n().bool,addPhoneHeadingKey:n().string,addPhoneDescriptionKey:n().string,addPhoneLegalTextKey:n().string,addPhoneButtonKey:n().string,beforeSuccess:n().func,renderInWebview:n().bool},gi.defaultProps={origin:Ge,existingPhoneNumber:null,addPhoneAlwaysShowLegalText:void 0,addPhoneRequireLegalTextCheckbox:void 0,addPhoneHeadingKey:void 0,addPhoneDescriptionKey:void 0,addPhoneLegalTextKey:void 0,addPhoneButtonKey:void 0,beforeSuccess:null,renderInWebview:!1};var Ei=gi;function Pi(e){var t=e.translate,n=e.onClose,r=e.origin,i=e.existingPhoneNumber,o=e.addPhoneAlwaysShowLegalText,a=e.addPhoneRequireLegalTextCheckbox,c=e.addPhoneHeadingKey,l=e.addPhoneDescriptionKey,s=e.addPhoneLegalTextKey,u=e.addPhoneButtonKey,d=e.beforeSuccess,e=e.renderInWebview;return I().createElement(Wn,null,I().createElement(Ei,{translate:t,onClose:n,origin:r,existingPhoneNumber:i,addPhoneAlwaysShowLegalText:o,addPhoneRequireLegalTextCheckbox:a,addPhoneHeadingKey:c,addPhoneDescriptionKey:l,addPhoneLegalTextKey:s,addPhoneButtonKey:u,beforeSuccess:d,renderInWebview:e}))}Pi.propTypes={translate:n().func.isRequired,origin:n().string,onClose:n().func,existingPhoneNumber:n().string,addPhoneAlwaysShowLegalText:n().bool,addPhoneRequireLegalTextCheckbox:n().bool,addPhoneHeadingKey:n().string,addPhoneDescriptionKey:n().string,addPhoneLegalTextKey:n().string,addPhoneButtonKey:n().string,beforeSuccess:n().func,renderInWebview:n().bool},Pi.defaultProps={origin:void 0,onClose:function(){return null},existingPhoneNumber:null,addPhoneAlwaysShowLegalText:void 0,addPhoneRequireLegalTextCheckbox:void 0,addPhoneHeadingKey:void 0,addPhoneDescriptionKey:void 0,addPhoneLegalTextKey:void 0,addPhoneButtonKey:void 0,beforeSuccess:void 0,renderInWebview:void 0};var xi=(0,i.withTranslations)(Pi,a),Si="CLOSE_CONTACT_METHOD_PROMPT_MODAL",wi="SET_LOGGING_VALUES";function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ti(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ai(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ti(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ki(e,t){switch(t.type){case Si:return Ai(Ai({},e),{},{isOpen:!1});case wi:return Ai(Ai({},e),{},{origin:t.origin,section:t.section});default:return Mi}}function Oi(e){var t=e.children,e=(n=Ci((0,R.useReducer)(ki,Mi),2))[0],n=n[1];return I().createElement(Ri.Provider,{value:{contactMethodPromptModalState:e,dispatch:n}},t)}var Mi={isOpen:!0,origin:"",section:""},Ri=(0,R.createContext)(Mi);Oi.propTypes={children:n().node.isRequired};var _t=Je.eventStreamService.eventTypes,Ge="contactMethodModal",Ii={contactMethodPromptShown:{name:"contactMethodPromptShown",type:_t.modalAction,context:Ge,params:{aType:"shown"}},contactMethodPromptDismissed:{name:"contactMethodPromptDismissed",type:_t.modalAction,context:Ge,params:{aType:"dismissed"}},contactMethodPromptEmailClicked:{name:"contactMethodPromptEmailClicked",type:_t.buttonClick,context:Ge,params:{btn:"email"}},contactMethodPromptPhoneClicked:{name:"contactMethodPromptPhoneClicked",type:_t.buttonClick,context:Ge,params:{btn:"phone"}},contactMethodPromptSupportClicked:{name:"contactMethodPromptSupportClicked",type:_t.buttonClick,context:Ge,params:{btn:"support"}},contactMethodPromptLogoutClicked:{name:"contactMethodPromptLogoutClicked",type:_t.buttonClick,context:Ge,params:{btn:"logout"}}};function Di(){return(0,R.useContext)(Ri)}function ji(e){function t(e){e||null!==h.UpsellService&&void 0!==h.UpsellService&&h.UpsellService.renderContactMethodPromptModal({origin:i.origin,section:i.section})}var n=e.translate,r=e.onHide,i=Di().contactMethodPromptModalState,o=pn,a=mn,c=fn,l=hn,s=yn,u=vn,d=gn,p=En,e=bn;return I().createElement("div",null,I().createElement(he.Modal.Header,{useBaseBootstrapComponent:!0},I().createElement("div",{className:"verification-upsell-title-container"},I().createElement(he.Modal.Title,{id:"verification-upsell-modal-title"},n(o)))),I().createElement(he.Modal.Body,{className:"verification-grid"},I().createElement("span",{className:"icon-spot-passcode-xl verification-grid-icon"}),I().createElement("div",null,I().createElement("div",{className:"verification-upsell-title-container page-title "},I().createElement("div",{className:"font-header-2"},n(a))),I().createElement("div",{className:"text-description"},n(c))),I().createElement("span",{className:"icon-spot-success-xl verification-grid-icon"}),I().createElement("div",null,I().createElement("div",{className:"verification-upsell-title-container page-title"},I().createElement("div",{className:"font-header-2"},n(l))),I().createElement("div",{className:"text-description"},n(s)))),I().createElement(he.Modal.Footer,null,I().createElement("button",{type:"button",className:"btn-cta-md btn-max-width phone-number-verify-button",onClick:function(){r(),et(Ii.contactMethodPromptPhoneClicked,{origin:i.origin,section:i.section}),null!==h.UpsellService&&void 0!==h.UpsellService&&h.UpsellService.renderPhoneUpsell({onClose:t})}},n(u)),I().createElement("button",{type:"button",className:" btn-secondary-md btn-max-width phone-number-resent-button",onClick:function(){r(),et(Ii.contactMethodPromptEmailClicked,{origin:i.origin,section:i.section}),null!==h.UpsellService&&void 0!==h.UpsellService&&h.UpsellService.renderEmailUpsell(t)}},n(e)),I().createElement("div",null,I().createElement("div",{className:"contact-method-prompt-links"},I().createElement(he.Link,{className:"text-default contact-method-link-button",href:"https://en.help.roblox.com/hc/articles/203313350",target:"_blank",onClick:function(){et(Ii.contactMethodPromptSupportClicked,{origin:i.origin,section:i.section})}},n(p)),I().createElement("button",{type:"button",className:"text-default contact-method-link-button",onClick:function(){et(Ii.contactMethodPromptLogoutClicked,{origin:i.origin,section:i.section}),h.NavigationService.logoutAndRedirect()}},n(d))))))}ji.propTypes={translate:n().func.isRequired,onHide:n().func.isRequired};var Li=ji;function Ui(e){function t(){et(Ii.contactMethodPromptDismissed,{origin:o.origin,section:o.section}),a({type:Si})}var n=e.translate,r=e.origin,i=e.section,e=Di(),o=e.contactMethodPromptModalState,a=e.dispatch;return(0,R.useEffect)(function(){a({type:wi,origin:r,section:i})},[]),(0,R.useEffect)(function(){o.origin&&o.section&&et(Ii.contactMethodPromptShown,{origin:o.origin,section:o.section})},[o.origin,o.section]),I().createElement(he.Modal,{show:o.isOpen,onHide:t,keyboard:!1,className:"verification-modal",backdrop:"static",size:"lg","aria-labelledby":"verification-upsell-modal-title",scrollable:"true",centered:"true"},I().createElement(Li,{translate:n,onHide:t}))}Ui.propTypes={translate:n().func.isRequired,section:n().string.isRequired,origin:n().string.isRequired};var _i=Ui;function Ki(e){var t=e.translate,n=e.origin,e=e.section;return I().createElement(Oi,null,I().createElement(_i,{translate:t,origin:n,section:e}))}Ki.propTypes={translate:n().func.isRequired,origin:n().string.isRequired,section:n().string.isRequired};var Bi=(0,i.withTranslations)(Ki,a);e().UpsellService={renderEmailUpsell:function(t){(0,m.ready)(function(){var e=document.getElementById(o);e&&((0,f.unmountComponentAtNode)(e),(0,f.render)(I().createElement(mt,null),e),Re(t))})},renderPhoneUpsell:function(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.onClose,n=e.origin,r=e.existingPhoneNumber,i=e.addPhoneAlwaysShowLegalText,o=e.addPhoneRequireLegalTextCheckbox,a=e.addPhoneHeadingKey,c=e.addPhoneDescriptionKey,l=e.addPhoneLegalTextKey,s=e.addPhoneButtonKey,u=e.beforeSuccess,d=e.containerId,p=e.renderInWebview;(0,m.ready)(function(){var e=document.getElementById(null!=d?d:"phoneVerificationUpsell-container");e&&((0,f.unmountComponentAtNode)(e),(0,f.render)(I().createElement(xi,{onClose:t,origin:n,existingPhoneNumber:r,addPhoneAlwaysShowLegalText:i,addPhoneRequireLegalTextCheckbox:o,addPhoneHeadingKey:a,addPhoneDescriptionKey:c,addPhoneLegalTextKey:l,addPhoneButtonKey:s,beforeSuccess:u,renderInWebview:p}),e))})},renderContactMethodPromptModal:function(e){var t=e.origin,n=e.section;(0,m.ready)(function(){var e=document.getElementById("contactMethodPrompt-container");e&&((0,f.unmountComponentAtNode)(e),(0,f.render)(I().createElement(Bi,{origin:t,section:n}),e))})}},e().EmailVerificationService={handleUserEmailUpsellAtLogout:Ue,handleUserEmailUpsellAtBuyRobux:function(e){return De({origin:c,skipCallback:e})},handleUserEmailUpsellOnHomePage:Re,handleUserEmailVerificationRequiredByPurchaseWarning:function(){return De({origin:A,requireVerification:!0})},handleUserEmailUpsellAtPremiumSubscription:function(e){return De({origin:T,skipCallback:e})},handleUserEmailVerificationRequiredByBan:function(){return De({origin:k,requireVerification:!0})}},(0,m.ready)(function(){document.getElementById(o)&&(0,f.render)(I().createElement(mt,null),document.getElementById(o))})}();
//# sourceMappingURL=https://js.rbxcdn.com/129f3f8162309a878244b5e70b32dd5e-verificationUpsell.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("VerificationUpsell");
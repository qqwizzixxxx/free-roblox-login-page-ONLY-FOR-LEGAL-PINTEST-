!function(){var n={779:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(r=c.apply(null,n))&&e.push(r);else if("object"==a)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},226:function(e){e.exports='module.exports = __webpack_public_path__ + "../html/navigation.html";'},130:function(e){e.exports="https://images.rbxcdn.com/ed4e952d2a337cf45095401995f39281-The_Haunt__CHS_1x1_400x400.png"},943:function(e){e.exports="https://images.rbxcdn.com/0dacfb446bdc4c9321720953b0f57b87-The_Haunt__CHT_1x1_400x400.png"},153:function(e){e.exports="https://images.rbxcdn.com/9103e1bf8edb3183ec76bf3f380461ff-The_Haunt__EN_1x1_400x400.png"},168:function(e){e.exports="https://images.rbxcdn.com/8a2dcb597a27f56896e282bf8d128e29-The_Haunt__ESMX_1x1_400x400.png"},355:function(e){e.exports="https://images.rbxcdn.com/b7847fc33b58157f436265224de14caa-The_Haunt__IT_1x1_400x400.png"},776:function(e){e.exports="https://images.rbxcdn.com/9ea21db17c10cdb666c7816d5b82c565-The_Haunt__JP_1x1_400x400.png"},344:function(e){e.exports="https://images.rbxcdn.com/31f3dd724d841b1d286a930fc4a757cd-The_Haunt__KO_1x1_400x400.png"},747:function(e){e.exports="https://images.rbxcdn.com/8fd6bbaf923f9c1953665cf7aef0f7cb-The_Haunt__PL_1x1_400x400.png"},14:function(e){e.exports="https://images.rbxcdn.com/e83b6e31c8884b8b42a02eb5139d392e-The_Haunt__PTBR_1x1_400x400.png"},781:function(e){e.exports="https://images.rbxcdn.com/c69e17fc4789e9f7fe6489d66ef1e087-The_Haunt__TH_1x1_400x400.png"},833:function(e){e.exports="https://images.rbxcdn.com/ffba89d30ad3445c39afbf9ed58633a6-The_Haunt__TR_1x1_400x400.png"},446:function(e){e.exports="https://images.rbxcdn.com/88c026923056c6d4b6d40e47471dc428-The_Haunt__VN_1x1_400x400.png"}},r={};function Lo(e){if(r[e])return r[e].exports;var t=r[e]={exports:{}};return n[e](t,t.exports,Lo),t.exports}Lo.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Lo.d(t,{a:t}),t},Lo.d=function(e,t){for(var n in t)Lo.o(t,n)&&!Lo.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Lo.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var L=React,_=Lo.n(L),j=CoreUtilities,e=ReactDOM,D=Roblox,t=Lo.n(D),k=HeaderScripts,M=ReactUtilities,q={arrowUp:38,arrowDown:40,tab:9,enter:13},n="container-main",r={name:"Roblox.Logout"},a=1,o={clickMerchandise:"clickMerchandiseInLeftNav",goToAmazonStore:"clickContinueToAmazonStore"},i={friendshipNotifications:"FriendshipNotifications",requestCountChanged:"Roblox.Friends.CountChanged",friendshipCreated:"FriendshipCreated",friendshipDestroyed:"FriendshipDestroyed",friendshipDeclined:"FriendshipDeclined",friendshipRequested:"FriendshipRequested"},c={name:"Roblox.Messages.CountChanged"},g="?",U="Response.InternalServerErrorDescription",u={name:"headerMenuIconClick"},l={quickLogin:"quickLogin",logout:"logout",settings:"settings",switchAccountKey:"switchAccountKey"},h={robuxTruncateThreshold:1e4,creditTruncateThreshold:1e4},P={control:"control",hideCreditAndRobux:"hideCreditAndRobux",showCreditAndRobux:"showCreditAndRobux"},B={accountSwitchedFlag:"RBXASAccountSwitched",accountSwitchedMessage:"Description.AccountSwitchedConfirmationBannerText"},s={common:["CommonUI.Features","CommonUI.Messages","Common.AlertsAndOptions","Common.Presence"],feature:"Feature.ShopDialog"},d=PropTypes,f=Lo.n(d),m=Lo(779),x=Lo.n(m),A=ReactStyleGuide,p=RobloxThumbnails,v=RobloxBadges,b=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},y=D.Endpoints.getAbsoluteUrl,S=D.EnvironmentUrls.authApi,E={url:y("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"],icon:"icon-menu-games-off"},w={url:y("/catalog?CatalogContext=1&Keyword="),label:"Heading.Marketplace",pageSort:["catalog","inventory","bundles","my/avatar","trades"],icon:"icon-menu-shop"},C=[{url:y("/search/users?keyword="),label:"Label.Players",pageSort:["users"],icon:"icon-menu-profile"},w,{url:y("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"],icon:"icon-menu-groups"},{url:y("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"],icon:"icon-menu-library"}],F={creatorMarketplaceUrl:"https://create."+D.EnvironmentUrls.domain+"/marketplace/models?keyword=",scrollListItems:{home:{url:y("/"),idSelector:"nav-home",iconClass:"icon-nav-home",name:"home",labelTranslationKey:"Label.sHome"},profile:{url:y("/users/"+k.authenticatedUser.id+"/profile"),idSelector:"nav-profile",iconClass:"icon-nav-profile",name:"profile",labelTranslationKey:"Label.sProfile"},messages:{url:y("/my/messages/#!/inbox"),urlForNotification:y("/my/messages/#!/inbox"),idSelector:"nav-message",iconClass:"icon-nav-message",name:"messages",labelTranslationKey:"Label.sMessages"},friends:{url:y("/users/friends"),urlForNotification:y("/users/friends#!/friend-requests"),idSelector:"nav-friends",iconClass:"icon-nav-friends",name:"friends",labelTranslationKey:"Label.sFriends"},avatar:{url:y("/my/avatar"),idSelector:"nav-character",iconClass:"icon-nav-charactercustomizer",name:"avatar",labelTranslationKey:"Label.sAvatar"},inventory:{url:y("/users/"+k.authenticatedUser.id+"/inventory"),idSelector:"nav-inventory",iconClass:"icon-nav-inventory",name:"inventory",labelTranslationKey:"Label.sInventory"},trade:{url:y("/trades"),urlForNotification:y("/trades"),idSelector:"nav-trade",iconClass:"icon-nav-trade",name:"trade",labelTranslationKey:"Label.sTrade"},groups:{url:y("/my/groups"),idSelector:"nav-group",iconClass:"icon-nav-group",name:"groups",labelTranslationKey:"Label.sGroups"},blog:{url:y("https://blog.roblox.com"),idSelector:"nav-blog",iconClass:"icon-nav-blog",name:"blog",labelTranslationKey:"Label.sBlog",blankTarget:!0},shop:{isModal:!0,idSelector:"nav-shop",iconClass:"icon-nav-shop",name:"shop",labelTranslationKey:"Label.OfficialStore"},giftcards:{url:y("/giftcards-us"),idSelector:"nav-giftcards",iconClass:"icon-nav-giftcards",name:"giftcards",labelTranslationKey:"Label.GiftCards"}},upgradeButton:{url:y("/premium/membership?ctx=leftnav"),labelTranslationKey:k.authenticatedUser.isPremiumUser?"ActionsPremium":"ActionsGetPremium"},sponsorEvents:{label:{labelTranslationKey:"Label.sEvents"},events:{}},gameSearchLink:E,avatarSearchLink:w,miscSearchLink:C,universalSearchUrls:[{url:y("/search/users?keyword="),label:"Label.Players",pageSort:[]},{url:y("/discover/?Keyword="),label:"Label.Experience",pageSort:["home","games","discover"]},{url:y("/catalog/browse.aspx?CatalogContext=1&Keyword="),label:"Label.sCatalog",pageSort:["catalog","inventory","bundles"]},{url:y("/search/groups?keyword="),label:"Label.sGroups",pageSort:["groups"]},{url:y("/develop/library?CatalogContext=2&Category=6&Keyword="),label:"Label.CreatorMarketplace",pageSort:["develop"]}],newUniversalSearchUrls:b([E],C),settingsUrl:{settings:{url:y("/my/account"),label:"Label.sSettings"},quickLogin:{url:y("/home"),label:"Label.sQuickLogin"},safetySupport:{url:y("/help-safety"),label:"Label.HelpAndSafety"},switchAccountKey:{url:y("/home"),label:"Label.sSwitchAccount"},logout:{url:S+"/v2/logout",label:"Label.sLogout"}},buyRobuxUrl:{myTransactions:{url:y("/transactions"),label:"Label.MyMoney"},buyRobux:{url:y("/upgrades/robux?ctx=navpopover"),label:"Label.sBuyRobux",name:"Label.sRobux"},buyRobuxOnVng:{url:D.EnvironmentUrls.vngGamesShopUrl,label:"Label.sBuyRobux",cacheKey:"isEligibleForVng"}},userDataUrl:y("/navigation/userData"),quickLoginUrl:y("/crossdevicelogin/ConfirmCode"),redeemUrl:{url:y("/redeem"),label:"Heading.RedeemRobloxCodes"},buyGiftCardUrl:{url:"https://roblox.cashstar.com/gift-card/buy/?ref=1023buygc",label:"Label.sBuyGiftCard",cacheKey:"giftCardExp"}},N=D.Endpoints.getAbsoluteUrl,R=D.EnvironmentUrls.authApi,O=(D.EnvironmentUrls.accountSettingsApi,D.EnvironmentUrls.websiteUrl,D.EnvironmentUrls.adsApi,D.EnvironmentUrls.economyApi),T=D.EnvironmentUrls.privateMessagesApi,I=D.EnvironmentUrls.tradesApi,G=D.EnvironmentUrls.friendsApi,V=D.EnvironmentUrls.apiGatewayUrl,K=D.EnvironmentUrls.universalAppConfigurationApi,H=function(){return N("/account/signupredir")},W=function(){return N("/home")},Q=function(e,t){return N("/".concat(e.toLowerCase(),"/").concat(t))},z=function(){return N("/login")},$=function(){return N("/newLogin")},X=function(){return N("/CreateAccount")},Y=function(){return"".concat(K,"/v1/behaviors/intl-auth-compliance/content")},J=function(){return"".concat(R,"/v2/logout")},Z=function(){return"".concat(T,"/v1/messages/unread/count")},ee=function(e){return"".concat(O,"/v1/users/").concat(e,"/currency")},te=function(){return"".concat(V,"/universal-app-configuration/v1/behaviors/navigation-header-ui/content")},ne=function(){return"".concat(I,"/v1/trades/inbound/count")},re=function(){return"".concat(G,"/v1/user/friend-requests/count")},ae=function(){return"".concat(V,"/credit-balance/v1/get-credit-balance-for-navigation")},oe=function(){return"".concat(V,"/credit-balance/v1/get-conversion-metadata")},ie=function(){return"".concat(V,"/credit-balance/v1/get-gift-card-visibility")},ce=function(){return"".concat(V,"/vng-payments/v1/getVngShopUrl")},ue=function(){var e={url:Z(),withCredentials:!0};return j.httpService.get(e)},le=function(e){e={url:ee(e),withCredentials:!0};return j.httpService.get(e)},se=function(){var e={url:te(),withCredentials:!0};return j.httpService.get(e)},de=function(){var e={url:ne(),withCredentials:!0};return j.httpService.get(e)},fe=function(){var e={url:re(),withCredentials:!0};return j.httpService.get(e)},me=function(){var e={url:J(),withCredentials:!0};return j.httpService.post(e)},pe=function(){var e={url:ae(),withCredentials:!0};return j.httpService.get(e)},ve=function(){var e={url:oe(),withCredentials:!0};return j.httpService.get(e)},be=function(){var e={url:ie(),withCredentials:!0};return j.httpService.get(e)},ye=function(){var e={url:ce(),withCredentials:!0};return j.httpService.get(e)},ge=CoreRobloxUtilities;function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=ge.dataStores.userDataStore.maxFriendRequestNotificationCount,Ee=ge.dataStores.userDataStore.maxMessagesNotificationCount;function we(e){var t=e.translate,n=e.idSelector,r=e.isModal,a=e.name,o=e.iconClass,i=e.labelTranslationKey,c=e.url,u=e.urlForNotification,l=e.onClickShopLink,s=e.friendsData,d=e.messagesData,f=e.tradeData,m=e.blankTarget,e=(he(e={},F.scrollListItems.friends.name,s),he(e,F.scrollListItems.messages.name,d),he(e,F.scrollListItems.trade.name,f),e)[a],c=null!=e&&e.count?u:c,m=m?"_blank":"_self";return r?_().createElement("li",{key:a},_().createElement("button",{id:n,type:"button",onClick:l,className:"dynamic-overflow-container text-nav"},_().createElement("div",null,_().createElement("span",{className:o})),_().createElement("span",{className:"font-header-2 dynamic-ellipsis-item",title:t(i)},t(i)))):_().createElement("li",{key:a},_().createElement(A.Link,{url:c,id:n,className:"dynamic-overflow-container text-nav",target:m},_().createElement("div",null,_().createElement("span",{className:o})),_().createElement("span",{className:"font-header-2 dynamic-ellipsis-item",title:t(i)},t(i)),e&&0<e.count&&_().createElement("div",{className:"dynamic-width-item align-right"},_().createElement("span",{className:"notification-blue notification",title:j.numberFormat.getNumberFormat(e.count)},function(e,t){if(e===F.scrollListItems.friends.name&&Se<=t)return"".concat(Se,"+");if(e===F.scrollListItems.messages.name&&Ee<=t)return"".concat(Ee,"+");return j.abbreviateNumber.getTruncValue(t,1e3)}(a,e.count)))))}we.defaultProps={idSelector:"",url:"",urlForNotification:"",isModal:!1,blankTarget:!1,friendsData:{count:0},messagesData:{count:0},tradeData:{count:0}},we.propTypes={idSelector:f().string,translate:f().func.isRequired,isModal:f().bool,name:f().string.isRequired,iconClass:f().string.isRequired,labelTranslationKey:f().string.isRequired,url:f().string,urlForNotification:f().string,onClickShopLink:f().func.isRequired,blankTarget:f().bool,friendsData:f().shape({count:f().number}),messagesData:f().shape({count:f().number}),tradeData:f().shape({count:f().number})};var Ce=we;function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(){return document.getElementById("navigation-container")}(Ke=ge.eventStreamService.eventTypes).pageLoad,f().func.isRequired,f().instanceOf(Array);var Te=F.universalSearchUrls,Ie=F.newUniversalSearchUrls,ke=F.avatarSearchLink,Ue=!k.authenticatedUser.isAuthenticated,Pe=function(){return Promise.resolve(0)},Le=function(e){D.EventStream&&D.EventStream.SendEventWithTarget(e,"click",{},D.EventStream.TargetTypes.WWW)},_e=function(e){if(Ue||!D.RealTime)return function(){};document.addEventListener(i.requestCountChanged,e);var t=D.RealTime.Factory.GetClient();return t.Subscribe(i.friendshipNotifications,e),function(){document.removeEventListener(i.requestCountChanged,e),t.Unsubscribe(i.friendshipNotifications,e)}},je=function(e){return Ue||!D.RealTime?function(){}:(document.addEventListener(c,e),function(){document.removeEventListener(c,e)})},De=function(){var e;return null!==(e=(null===(e=window)||void 0===e?void 0:e.innerWidth)<543)&&e},Me=function(){var e=Ae(Te);return e.sort(function(e){return e.pageSort.reduce(function(e,t){return e||-1<window.location.href.indexOf(t)},!1)?-1:1}),e},qe=function(){var e=Ae(Ie),t=e.filter(function(e){return e.pageSort.some(function(e){return-1<window.location.pathname.indexOf(e)})}),e=e.filter(function(e){return e.pageSort.every(function(e){return-1===window.location.pathname.indexOf(e)})});return[].concat(Ae(t),Ae(e))},Be=function(){return ke.pageSort.some(function(e){return-1<window.location.pathname.indexOf(e)})},Fe=function(){return document.getElementById("navigation-container")&&document.getElementById("navigation-container").className},Ge=function(e){var n={};return("?"===e[0]?e.substr(1):e).split("&").forEach(function(e){var t;e.includes("=")&&(e=(t=xe(e.split("="),2))[0],t=t[1],n[null===(e=decodeURIComponent(e))||void 0===e?void 0:e.toLowerCase()]=decodeURIComponent(t))}),n},d=D.EnvironmentUrls.apiGatewayUrl,m=D.EnvironmentUrls.apiGatewayCdnUrl,Ve=(D.EnvironmentUrls.localeApi,{experimentLayer:"Website.TopNavSearchBox",debounceTimeout:100,debouncedSearchInputMaxLength:35,expiryTimeout:5e3,variationId:1,trendingVariationId:0,avatarAutocompleteQueryPaddingAmount:10,requestSuggestionUrl:{url:d+"/games-autocomplete/v1/request-suggestion",withCredentials:!0},getSuggestionUrl:{url:d+"/games-autocomplete/v1/get-suggestion/",withCredentials:!0},avatarRequestSuggestionUrl:{url:d+"/autocomplete-avatar/v2/suggest",withCredentials:!0},avatarRequestSuggestionCdnUrl:{url:m+"/autocomplete-avatar/v2/suggest",withCredentials:!0},englishLanguageCode:"en",avatarAutocompleteUrlLocations:["Catalog","Trades","Inventory","Avatar","CatalogItem"],avatarAutocompleteSuggestionLimit:5,isSpecialTreatmentAutocompleteRestricted:function(){return 7===parseInt(Oe().dataset.numberOfAutocompleteSuggestions,10)&&F.miscSearchLink.reduce(function(e,t){return e.push.apply(e,t.pageSort),e},[]).reduce(function(e,t){return e||-1<window.location.pathname.indexOf(t)},!1)},isSpecialTreatment:function(){var e;return 7===parseInt(null===(e=Oe())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfSpecialTreatmentAutocompleteSuggestions:3,isAutocompleteSuggestionsIXPTestEnabled:function(){var e;return 0<parseInt(null===(e=Oe())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)},numberOfAutocompleteSuggestions:function(){var e;return parseInt(null===(e=Oe())||void 0===e?void 0:e.dataset.numberOfAutocompleteSuggestions,10)||0},isRedirectLibraryToCreatorMarketplaceEnabled:function(){var e;return"True"===(null===(e=Oe())||void 0===e?void 0:e.dataset.isRedirectLibraryToCreatorMarketplaceEnabled)}}),w=Lo(446),b=Lo.n(w),E=Lo(833),C=Lo.n(E),S=Lo(781),y=Lo.n(S),Q=Lo(14),Ke=Lo.n(Q),a=Lo(747),d=Lo.n(a),m=Lo(344),w=Lo.n(m),E=Lo(776),S=Lo.n(E),Q=Lo(355),a=Lo.n(Q),m=Lo(168),E=Lo.n(m),Q=Lo(153),He=Lo.n(Q),m=Lo(943),Q=Lo.n(m),m=Lo(130),m=Lo.n(m),We={vi_vn:b(),tr_tr:C(),th_th:y(),pt_br:Ke(),pl_pl:d(),ko_kr:w(),ja_jp:S(),it_it:a(),es_es:E(),en_us:He(),zh_tw:Q(),zh_cn:m()},Qe=function(){var e;return null!==(e=Oe())&&void 0!==e&&e.dataset.platformEventLeftNavEntryStartTime?new Date(Date.parse("".concat(null===(e=Oe())||void 0===e?void 0:e.dataset.platformEventLeftNavEntryStartTime," UTC"))):new Date("01/01/2001")},ze=function(){var e;return null!==(e=Oe())&&void 0!==e&&e.dataset.platformEventLeftNavEntryEndTime?new Date(Date.parse("".concat(null===(e=Oe())||void 0===e?void 0:e.dataset.platformEventLeftNavEntryEndTime," UTC"))):new Date("01/01/2001")},$e=function(){var e;return null!==(e=Oe())&&void 0!==e&&e.dataset.platformEventLeftNavUrl?null===(e=Oe())||void 0===e?void 0:e.dataset.platformEventLeftNavUrl:""},Xe=function(e){return We[e]||He()};function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Je(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ze(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var rt=o;function at(e){var t=e.translate,n=nt(e,["translate"]),r=et((0,L.useState)(!1),2),a=r[0],o=r[1],i=(0,L.useCallback)(function(){o(function(e){return!e}),Le(rt.clickMerchandise)},[]),c=function(){o(!1)},u=Object.values(F.scrollListItems).map(function(e){return _().createElement(Ce,Ye({key:e.name},Ze(Ze({translate:t,onClickShopLink:i},e),n)))}),l=_().createElement("li",{className:"rbx-upgrade-now"},_().createElement("a",{href:F.upgradeButton.url,className:"btn-growth-md btn-secondary-md",onClick:function(){ge.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(ge.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,ge.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEFT_NAVIGATION_BAR,ge.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,k.authenticatedUser.isPremiumUser?ge.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.PREMIUM:ge.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GET_PREMIUM)},id:"upgrade-now-button"},t(F.upgradeButton.labelTranslationKey))),s=_().createElement(_().Fragment,null,_().createElement("p",{className:"shop-description"},t("Description.RetailWebsiteRedirect")),_().createElement("p",{className:"shop-warning"},t("Description.PurchaseAgeWarning"))),d=_().createElement(A.SimpleModal,{title:t("Heading.LeavingRoblox"),body:s,show:a,actionButtonShow:!0,actionButtonText:t("Action.Continue"),neutralButtonText:t("Action.Cancel"),onAction:function(){var e=decodeURIComponent(D.EnvironmentUrls.amazonWebStoreLink);window.open(e,"_blank"),Le(rt.goToAmazonStore)},onNeutral:c,onClose:c}),e=new Date,r=Qe(),s=ze(),a=$e(),c=D.Intl&&new D.Intl,c=Xe(c.getRobloxLocale()),c=_().createElement("a",{href:a,className:"rbx-platform-event-container"},_().createElement("div",{className:"rbx-platform-event-header dynamic-overflow-container"},_().createElement("span",{className:"rbx-event-icon"}),_().createElement("span",{className:"rbx-event-header-text dynamic-ellipsis-item"},t("Label.sEvents"))),_().createElement("img",{className:"rbx-platform-event-thumbnail",src:c,alt:t("Label.TheHunt")}));return _().createElement("ul",{className:"left-col-list"},u,l,!1,d,r<e&&e<s&&a&&c)}at.defaultProps={sponsoredPagesData:[]},at.propTypes={sponsoredPagesData:f().instanceOf(Array),translate:f().func.isRequired};var ot=at;function it(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ct(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?it(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e){var n=k.authenticatedUser.isAuthenticated,t=ut((0,L.useState)({}),2),r=t[0],a=t[1],o=(c=ut((0,L.useState)({}),2))[0],i=c[1],c=(t=ut((0,L.useState)({}),2))[0],u=t[1];return(0,L.useEffect)(function(){var e=function(){},t=function(){};return n&&(e=_e(function(){fe().then(function(e){e=e.data;a(e)},function(e){console.debug(e)})}),t=je(function(){ue().then(function(e){e=e.data;i(e)})}),fe().then(function(e){e=e.data;a(e)},function(e){console.debug(e)}),ue().then(function(e){e=e.data;i(e)},function(e){console.debug(e)}),de().then(function(e){e=e.data;u(e)},function(e){console.debug(e)})),function(){e(),t()}},[]),_().createElement(ot,ct({friendsData:r,messagesData:o,tradeData:c},e))}var Q=k.authenticatedUser.name,m=k.authenticatedUser.displayName,dt={nameForDisplay:null!==D.DisplayNames&&void 0!==D.DisplayNames&&D.DisplayNames.Enabled()?m:Q,nameForHeader:null!==D.DisplayNames&&void 0!==D.DisplayNames&&D.DisplayNames.Enabled()?j.concatTexts.concat(["",Q]):Q};function ft(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function bt(e){var t=e.isLeftNavOpen,n=vt(e,["isLeftNavOpen"]),r=mt((0,L.useState)(!1),2),e=r[0],a=r[1],o=(0,L.useRef)(null);(0,L.useEffect)(function(){(function(){var c,e=(c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:return e.prev=4,e.next=7,(0,v.robloxBadgesReadyForRender)();case 7:e.sent&&a((0,v.currentUserHasVerifiedBadge)()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),a(!1);case 14:case"end":return e.stop()}},e,null,[[4,11]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){ft(r,t,n,a,o,"next",e)}function o(e){ft(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()().catch(function(){})},[t,o]);r=e&&v.VerifiedBadgeIconContainer?_().createElement("section",{ref:function(e){o.current=e}},_().createElement(v.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:v.BadgeSizes.CAPTIONHEADER})):null,t=x()("rbx-left-col",{"nav-show":t}),e=x()("font-header-2 dynamic-ellipsis-item",{"verified-badge-left-nav":e});return _().createElement("div",{id:"navigation",className:t},_().createElement("ul",null,_().createElement("li",{key:"username"},_().createElement(A.Link,{className:"dynamic-overflow-container text-nav",role:"link",url:F.scrollListItems.profile.url},_().createElement("span",{className:"avatar avatar-headshot-xs"},_().createElement(p.Thumbnail2d,{containerClass:"avatar-card-image",targetId:k.authenticatedUser.id,type:p.ThumbnailTypes.avatarHeadshot,altName:k.authenticatedUser.name})),_().createElement("div",{className:e},dt.nameForDisplay),r)),_().createElement("li",{key:"divider",className:"rbx-divider"})),_().createElement(A.ScrollBar,{className:"rbx-scrollbar"},_().createElement(st,n)))}bt.propTypes={isLeftNavOpen:f().bool.isRequired};var yt=bt;function gt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ht(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt,Ct=u,xt=(0,M.withTranslations)(function(e){var t=k.authenticatedUser.isAuthenticated,n=St((0,L.useState)(!1),2),r=n[0],a=n[1],o=(0,L.useCallback)(function(){a(!r)},[r]);return(0,L.useEffect)(function(){return document.addEventListener(Ct.name,o),function(){document.removeEventListener(Ct.name,o)}},[o]),t?_().createElement(yt,ht({isLeftNavOpen:r},e)):null},s),At=function(){return(At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Nt=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Rt=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ot=j.httpService.createCancelToken();function Tt(e){return void 0===(null==e?void 0:e.label)}function It(e){return void 0!==(null==e?void 0:e.Query)}function kt(e){if(It(e))return"avatar";switch(e.type){case wt.QuerySuggestion:return"keyword";case wt.GameSuggestion:return"game";default:throw Error("Unrecognized autocomplete suggestion, ".concat(JSON.stringify(e)))}}function Ut(e){switch(e.label){case"Label.Players":return"defaultPlayers";case"Heading.Marketplace":case"Label.AvatarShop":case"Label.sCatalog":return"defaultShops";case"Label.sGroups":return"defaultGroups";case"Label.CreatorMarketplace":return"defaultLibrary";case"Label.Experience":return"defaultGames";default:throw Error("Unrecognized default suggestion, ".concat(JSON.stringify(e)))}}(o=wt=wt||{})[o.GameSuggestion=0]="GameSuggestion",o[o.QuerySuggestion=1]="QuerySuggestion",o[o.TrendingQuerySuggestion=2]="TrendingQuerySuggestion";var Pt=function(t){return Nt(void 0,void 0,Promise,function(){return Rt(this,function(e){switch(e.label){case 0:return Ot.cancel(),Ot=j.httpService.createCancelToken(),[4,j.httpService.get(At(At({},Ve.getSuggestionUrl),{url:Ve.getSuggestionUrl.url+encodeURIComponent(t.toLowerCase()),cancelToken:Ot.token}))];case 1:return[2,e.sent().data]}})})},Lt=function(n,r,a,o,i){return void 0===i&&(i=!1),Nt(void 0,void 0,Promise,function(){var t;return Rt(this,function(e){switch(e.label){case 0:return null===(t=r)&&(t=Ve.englishLanguageCode),t={prefix:n.toLowerCase(),limit:a,lang:t,q:o},Ot.cancel(),Ot=j.httpService.createCancelToken(),i?[4,j.httpService.get(At(At({},Ve.avatarRequestSuggestionUrl),{timeout:Ve.expiryTimeout,cancelToken:Ot.token,fullError:!0}),t)]:[3,2];case 1:return[2,e.sent().data];case 2:return[4,j.httpService.get(At(At({},Ve.avatarRequestSuggestionCdnUrl),{timeout:Ve.expiryTimeout,cancelToken:Ot.token,fullError:!0}),t)];case 3:return[2,e.sent().data]}})})},_t=Tt,jt=It,Dt=kt,Mt=Ut,qt=function(e,t){var n;return Tt(e)&&It(e)?F.avatarSearchLink.url+encodeURIComponent(e.Query):Tt(e)?F.gameSearchLink.url+encodeURIComponent(e.searchQuery):null!=t&&null!==(n=t.target)&&void 0!==n&&n.value?e.url+encodeURIComponent(t.target.value):""},Bt=function(){var e=(new D.TranslationResourceProvider).intl.locale,t=e.indexOf("-");return(e=e.substring(0,-1!==t?t:e.length))!==Ve.englishLanguageCode&&(e+=",".concat(Ve.englishLanguageCode)),e},Ft=function(e,t){return e.map(function(e){return Tt(e)?"".concat(kt(e),"|").concat(e.searchQuery):"".concat(Ut(e),"|").concat(t)}).join(",")},Gt=ge.eventStreamService.eventTypes,Vt="searchAutocomplete",Kt={actionTypes:{open:"open",submit:"submit",close:"close"},generateSessionInfo:j.uuidService.generateRandomUuid,searchTextTrim:function(e,t,n,r){return[{name:"searchTextTrim",type:Gt.formInteraction,context:Vt},{kwd:e,resultingKwd:t,searchType:n,sessionInfo:r}]},searchClear:function(e,t,n,r){return[{name:"searchClear",type:Gt.formInteraction,context:Vt},{kwd:e,searchType:t,sessionInfo:n,page:r}]},searchSuggestionClicked:function(e,t,n,r,a,o,i){return[{name:"searchSuggestionClicked",type:Gt.formInteraction,context:Vt},{kwd:e,searchType:t,suggestionPosition:n,suggestionClicked:r,suggestionType:a,suggestions:o,sessionInfo:i}]},searchAutocomplete:function(e,t,n,r,a,o,i,c,u,l){return[{name:"searchAutocomplete",type:Gt.formInteraction,context:Vt},{kwd:e,previousKwd:t,fromLocalCache:n,suggestions:r,algorithm:a,latency:o,timeoutDelayMs:i,sessionInfo:c,page:u,isPersonalizedBasedOnPreviousQuery:l}]},search:function(e,t,n){return[{name:"search",type:Gt.formInteraction,context:Vt},{kwd:e,actionType:t,sessionInfo:n}]},catalogSearch:function(e,t){return[{name:"catalogSearch",type:Gt.formInteraction,context:Vt},{autocompleteFlag:e,previousPage:t}]}};function Ht(e){return function(e){if(Array.isArray(e))return zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(e){var o=e.translate,i=e.searchInput,c=e.indexOfSelectedOption,u=e.autocompleteSessionInfo,l=e.resetAutocompleteSessionInfo,s=Me();return _().createElement(_().Fragment,null,Object.entries(s).map(function(e){var t=Wt(e,2),n=t[0],r=t[1],a=r.url,e=r.label,t=x()("navbar-search-option rbx-clickable-li",parseInt(n,10)===c?" selected":"");return _().createElement("li",{key:n,className:t},_().createElement(A.Link,{className:"navbar-search-anchor",url:a+i,onClick:function(){ge.eventStreamService.sendEvent.apply(ge.eventStreamService,Ht(Kt.searchSuggestionClicked(i,void 0,n,i,Mt(r),Ft(s,i),u))),l()}},o("Label.sSearchPhrase",{phrase:i,location:o(e)})))}))}$t.propTypes={translate:f().func.isRequired,searchInput:f().string.isRequired,indexOfSelectedOption:f().number.isRequired,autocompleteSessionInfo:f().string.isRequired,resetAutocompleteSessionInfo:f().func.isRequired};var Xt=$t;function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zt=F.gameSearchLink,en=F.avatarSearchLink,tn=F.creatorMarketplaceUrl;function nn(e){var t=e.translate,n=e.selected,r=e.suggestion,a=e.onClick,o=x()("navbar-search-option rbx-clickable-li",{"new-selected":n}),i=r.type,c=r.universeId,e=r.searchQuery,n=Yt((0,L.useState)(!1),2),r=n[0],u=n[1];return i===wt.GameSuggestion?_().createElement("li",{className:o},_().createElement(A.Link,{className:"new-navbar-search-anchor",url:Zt.url+encodeURIComponent(e),onClick:a},_().createElement("span",{className:x()(Zt.icon,"navbar-list-option-icon")}),_().createElement("span",{className:"navbar-list-option-text"},e),_().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(Zt.label)})),_().createElement("span",{className:x()("navbar-list-option-thumbnail",{"navbar-list-option-thumbnail-visible":r})},_().createElement("span",{className:"background-icon"}),_().createElement(p.Thumbnail2d,{type:p.ThumbnailTypes.gameIcon,size:p.DefaultThumbnailSize,targetId:c,containerClass:"thumbnail-icon",format:p.ThumbnailFormat.jpeg,onLoad:function(){u(!0)}})))):_().createElement("li",{className:o},_().createElement(A.Link,{className:"new-navbar-search-anchor",url:Zt.url+encodeURIComponent(e),onClick:a},_().createElement("span",{className:x()(Zt.icon,"navbar-list-option-icon")}),_().createElement("span",{className:"navbar-list-option-text"},e),_().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(Zt.label)}))))}function rn(e){var t=e.translate,n=e.selected,r=e.suggestion,e=e.onClick,n=x()("navbar-search-option rbx-clickable-li",{"new-selected":n}),r=r.Query;return _().createElement("li",{className:n},_().createElement(A.Link,{className:"new-navbar-search-anchor",url:en.url+encodeURIComponent(r),onClick:e},_().createElement("span",{className:x()(en.icon,"navbar-list-option-icon")}),_().createElement("span",{className:"navbar-list-option-text"},r),_().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(en.label)}))))}function an(e){var t=e.translate,n=e.selected,r=e.searchInput,a=e.suggestion,o=e.onClick,i=a.url,e=a.label,a=a.icon,i=(0,Ve.isRedirectLibraryToCreatorMarketplaceEnabled)()&&"Label.CreatorMarketplace"===e?tn:i,n=x()("navbar-search-option rbx-clickable-li",{"new-selected":n});return _().createElement("li",{className:n},_().createElement(A.Link,{className:"new-navbar-search-anchor",url:i+encodeURIComponent(r),onClick:o},_().createElement("span",{className:x()(a,"navbar-list-option-icon")}),_().createElement("span",{className:"navbar-list-option-text"},r.toLowerCase()),_().createElement("span",{className:"navbar-list-option-suffix"},t("Label.sSearchPhraseV2",{location:t(e)}))))}function on(e){return function(e){if(Array.isArray(e))return cn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e){function r(t,n){return function(){var e=c[n];ge.eventStreamService.sendEvent.apply(ge.eventStreamService,on(Kt.searchSuggestionClicked(o,void 0,n,_t(e)?e.searchQuery:o,t,Ft(c,o),u))),l();e=t.includes("default")?0:1;ge.eventStreamService.sendEvent.apply(ge.eventStreamService,on(Kt.catalogSearch(e,j.pageName.PageNameProvider.getInternalPageName())))}}var a=e.translate,o=e.searchInput,i=e.indexOfSelectedOption,c=e.searchSuggestions,u=e.autocompleteSessionInfo,l=e.resetAutocompleteSessionInfo;return c.map(function(e,t){var n=parseInt(t,10)===i;return _t(e)&&jt(e)?_().createElement(rn,{key:e.Query,translate:a,selected:n,suggestion:e,onClick:r(Dt(e),t)}):_t(e)?_().createElement(nn,{key:e.searchQuery,translate:a,selected:n,suggestion:e,onClick:r(Dt(e),t)}):_().createElement(an,{key:e.url,translate:a,selected:n,suggestion:e,searchInput:o,onClick:r(Mt(e),t)})})}nn.propTypes={translate:f().func.isRequired,selected:f().bool.isRequired,suggestion:f().shape({type:f().number.isRequired,score:f().number.isRequired,universeId:f().number,canonicalTitle:f().string,thumbnailUrl:f().string,searchQuery:f().string.isRequired,trendingSearchStartDateTime:f().string}).isRequired,onClick:f().func.isRequired},rn.propTypes={translate:f().func.isRequired,selected:f().bool.isRequired,suggestion:f().shape({Query:f().string}).isRequired,onClick:f().func.isRequired},an.propTypes={translate:f().func.isRequired,selected:f().bool.isRequired,searchInput:f().string.isRequired,suggestion:f().shape({url:f().string.isRequired,label:f().string.isRequired,pageSort:f().arrayOf(f().string).isRequired,icon:f().string.isRequired}).isRequired,onClick:f().func.isRequired},un.propTypes={translate:f().func.isRequired,searchInput:f().string.isRequired,indexOfSelectedOption:f().number.isRequired,searchSuggestions:f().arrayOf(f().oneOfType([f().shape({type:f().number.isRequired,score:f().number.isRequired,universeId:f().number.isRequired,canonicalTitle:f().string,thumbnailUrl:f().string,searchQuery:f().string.isRequired,trendingSearchStartDateTime:f().string}),f().shape({url:f().string.isRequired,label:f().string.isRequired,pageSort:f().arrayOf(f().string).isRequired,icon:f().string.isRequired}),f().shape({Query:f().string.isRequired,Score:f().number.isRequired})])).isRequired,autocompleteSessionInfo:f().string.isRequired,resetAutocompleteSessionInfo:f().func.isRequired};var ln=un;function sn(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fn(e){var t=e.translate,n=e.searchInput,r=e.isMenuOpen,a=e.openMenu,o=e.closeMenu,i=e.handleSearch,c=e.setIsMenuHover,u=e.indexOfSelectedOption,l=e.onSubmit,s=e.onKeyDown,d=e.onKeyUp,f=e.isUniverseSearchShown,m=e.searchSuggestions,p=e.autocompleteSessionInfo,v=e.resetAutocompleteSessionInfo,b=e.isAvatarAutocompleteEnabled,y=(0,L.createRef)(),g=(0,L.createRef)(),e=function(){var e;ge.eventStreamService.sendEvent.apply(ge.eventStreamService,sn(Kt.searchClear(n,void 0,p,null===j.pageName||void 0===j.pageName||null===(e=j.pageName.PageNameProvider)||void 0===e?void 0:e.getInternalPageName()))),null==y||null!==(e=y.current)&&void 0!==e&&e.focus(),i({target:{value:""}})},f=x()("navbar-left navbar-search col-xs-5 col-sm-6 col-md-2 col-lg-3",{"navbar-search-open":r,shown:f}),b=Ve.isAutocompleteSuggestionsIXPTestEnabled()||b;return(0,M.useOnClickOutside)([y,g],o),_().createElement("div",{"data-testid":"navigation-search-input",className:f,role:"search"},_().createElement("div",{className:"input-group"},_().createElement("form",{name:"search-form",onSubmit:l,action:"/search"},b?_().createElement("div",{className:"form-has-feedback"},_().createElement("input",{ref:y,id:"navbar-search-input",type:"search",name:"search-bar","data-testid":"navigation-search-input-field",className:"form-control input-field new-input-field",value:n,onChange:i,placeholder:t("Label.sSearch"),maxLength:"120",onFocus:a,onKeyDown:s,onKeyUp:d,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),0<n.length&&_().createElement("span",{"data-testid":"navigation-search-input-clear-button",tabIndex:0,role:"button","aria-label":"Clear Search",onClick:e,onKeyDown:e,className:"clear-search icon-actions-clear-sm"},_().createElement("span",null))):_().createElement("input",{ref:y,id:"navbar-search-input",type:"search",name:"search-bar","data-testid":"navigation-search-input-field",className:"form-control input-field",value:n,onChange:i,placeholder:t("Label.sSearch"),maxLength:"120",onFocus:a,onKeyDown:s,onKeyUp:d,autoComplete:"off"})),_().createElement("div",{className:"input-group-btn"},_().createElement("button",{"data-testid":"navigation-search-input-search-button",className:"input-addon-btn",type:"submit"},_().createElement("span",{className:"icon-common-search-sm"})))),_().createElement("ul",{ref:g,className:x()("dropdown-menu",{"new-dropdown-menu":b}),role:"menu",onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}},b?_().createElement(ln,{translate:t,searchInput:n,indexOfSelectedOption:u,searchSuggestions:m,autocompleteSessionInfo:p,resetAutocompleteSessionInfo:v}):_().createElement(Xt,{translate:t,searchInput:n,indexOfSelectedOption:u,autocompleteSessionInfo:p,resetAutocompleteSessionInfo:v})))}fn.defaultProps={isUniverseSearchShown:!0,isAvatarAutocompleteEnabled:!1},fn.propTypes={translate:f().func.isRequired,searchInput:f().string.isRequired,isMenuOpen:f().bool.isRequired,openMenu:f().func.isRequired,closeMenu:f().func.isRequired,handleSearch:f().func.isRequired,setIsMenuHover:f().func.isRequired,indexOfSelectedOption:f().number.isRequired,onSubmit:f().func.isRequired,onKeyDown:f().func.isRequired,onKeyUp:f().func.isRequired,isUniverseSearchShown:f().bool,isAvatarAutocompleteEnabled:f().bool,searchSuggestions:f().arrayOf(f().oneOfType([f().shape({type:f().number.isRequired,score:f().number.isRequired,universeId:f().number.isRequired,canonicalTitle:f().string,thumbnailUrl:f().string,searchQuery:f().string.isRequired,trendingSearchStartDateTime:f().string}),f().shape({url:f().string.isRequired,label:f().string.isRequired,pageSort:f().arrayOf(f().string).isRequired,icon:f().string}),f().shape({query:f().string.isRequired,score:f().number.isRequired})])).isRequired,autocompleteSessionInfo:f().string.isRequired,resetAutocompleteSessionInfo:f().func.isRequired};var mn=fn;function pn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function vn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||yn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e){var t=e.translate,n=e.isUniverseSearchShown,r=bn((0,L.useState)(Ge(window.location.search).keyword||""),2),o=r[0],a=r[1],i=(0,M.useDebounce)(o,Ve.debounceTimeout),u=(0,M.usePrevious)(i),e=bn((0,L.useState)(null),2),c=e[0],l=e[1],r=bn((0,L.useState)(Kt.generateSessionInfo()),2),s=r[0],d=r[1],e=bn((0,L.useState)(!1),2),f=e[0],m=e[1],r=bn((0,L.useState)(!0),2),p=r[0],v=r[1],e=bn((0,L.useState)(!1),2),b=e[0],r=e[1],e=bn((0,L.useState)(0),2),y=e[0],g=e[1],e=bn((0,L.useState)(!1),2),h=e[0],S=e[1],e=bn((0,L.useState)(!1),2),E=e[0],w=e[1],C=q,e=bn((0,L.useState)((Ve.isAutocompleteSuggestionsIXPTestEnabled()?qe:Me)()),2),x=e[0],A=e[1],N=x.findIndex(function(e){return e.label===F.gameSearchLink.label}),R=qe().findIndex(function(e){return e.label===F.avatarSearchLink.label}),O=Bt();(0,L.useEffect)(function(){D.ExperimentationService&&D.ExperimentationService.getAllValuesForLayer(Ve.experimentLayer).then(function(e){e.ixpDisableGamesAutocomplete&&S(!0)})},[]);function T(e){if(e){if(I){var t=-1===c.findIndex(function(e){return e.searchQuery===i.toLowerCase()&&jt(e)}),n=e.filter(function(e){return e.searchQuery!==i.toLowerCase()||jt(e)});return[].concat(vn(x.slice(0,t?R+1:R)),vn(n),vn(x.slice(R+1)))}if(Ve.isSpecialTreatmentAutocompleteRestricted())return x;n=-1===e.findIndex(function(e){return e.searchQuery===i.toLowerCase()&&e.type===wt.GameSuggestion}),e=e.filter(function(e){return e.searchQuery!==i.toLowerCase()||e.type===wt.GameSuggestion}).slice(0,Ve.isSpecialTreatment()?Ve.numberOfSpecialTreatmentAutocompleteSuggestions:Ve.numberOfAutocompleteSuggestions());return[].concat(vn(x.slice(0,n?N+1:N)),vn(e),vn(x.slice(N+1)))}return x}var I=Be(),k=(0,L.useMemo)(function(){return T(c)},[c,x]),U=k.length;(0,L.useEffect)(function(){p||ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.search(o,Kt.actionTypes.submit,s))),v(!1);var e=function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t,n,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==i&&i.length<=Ve.debouncedSearchInputMaxLength)){e.next=34;break}if(l(null),t=Date.now(),I)return e.prev=4,n=Date.now(),e.next=8,Lt(i,O,Ve.avatarAutocompleteQueryPaddingAmount,u,E);e.next=20;break;case 8:a=e.sent,o=function(e,t){var n=0,r=[];return e.forEach(function(e){n<Ve.avatarAutocompleteSuggestionLimit&&e.Query!==t&&(r.push(e),n+=1)}),r}(a.Data,i),ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.searchAutocomplete(i,u,!1,o,a.Args.Algo,n-t,Ve.debounceTimeout,"",j.pageName.PageNameProvider.getInternalPageName(),""!==u))),l(o),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),j.httpService.isCancelled(e.t0)||l([]),w(!0);case 18:e.next=34;break;case 20:if(Ve.isAutocompleteSuggestionsIXPTestEnabled()&&!h)return e.prev=21,e.next=24,Pt(i);e.next=34;break;case 24:r=e.sent,a=Date.now(),o=T(r.entries),ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.searchAutocomplete(i,u,!1,Ft(o,i),r.algorithmName,a-t,Ve.debounceTimeout,s,j.pageName.PageNameProvider.getInternalPageName(),!1))),l(r.entries),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),j.httpService.isCancelled(e.t1)||l([]);case 34:case"end":return e.stop()}},e,null,[[4,14],[21,31]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){pn(r,t,n,a,o,"next",e)}function o(e){pn(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}();I&&A(qe()),e()},[i]);function P(){d(Kt.generateSessionInfo())}return _().createElement(mn,{searchInput:o,handleSearch:function(e){e=e.target.value;e.length<o.length&&ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.searchTextTrim(o,e,void 0,s))),0===e.length&&P(),g(0),m(0<e.length),a(e)},openMenu:function(){var e=Kt.generateSessionInfo();ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.search(o,Kt.actionTypes.open,e))),d(e),0===o.length||b||m(!0)},closeMenu:function(){f&&(ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.search(o,Kt.actionTypes.close,s))),m(!1))},setIsMenuHover:r,isMenuOpen:f,indexOfSelectedOption:y,onSubmit:function(e){e.preventDefault(),e.stopPropagation()},onKeyDown:function(e){var t=y;!f||e.keyCode!==C.arrowUp&&e.keyCode!==C.arrowDown&&e.keyCode!==C.tab||(e.stopPropagation(),e.preventDefault(),e.keyCode===C.arrowUp?--t:t+=1,(t%=U)<0&&(t=U+t),g(t))},onKeyUp:function(e){var t,n,r,a;e.keyCode===C.enter&&(e.stopPropagation(),e.preventDefault(),t=k[y],_t(t)?(ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.searchSuggestionClicked(i,void 0,y,t.searchQuery,Dt(t),Ft(k,o),s))),ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.catalogSearch(1,j.pageName.PageNameProvider.getInternalPageName())))):(ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.searchSuggestionClicked(i,void 0,y,i,Mt(t),Ft(k,o),s))),ge.eventStreamService.sendEvent.apply(ge.eventStreamService,vn(Kt.catalogSearch(0,j.pageName.PageNameProvider.getInternalPageName())))),P(),(a=qt(t,e))&&(n=Ve.isRedirectLibraryToCreatorMarketplaceEnabled,a=a,"Label.CreatorMarketplace"===t.label&&n()&&(a=F.creatorMarketplaceUrl,null!=e&&null!==(r=e.target)&&void 0!==r&&r.value&&(a+=encodeURIComponent(e.target.value))),window.location=a))},isUniverseSearchShown:n,translate:t,searchSuggestions:k,autocompleteSessionInfo:s,resetAutocompleteSessionInfo:P,isAvatarAutocompleteEnabled:I})}hn.defaultProps={isUniverseSearchShown:!0},hn.propTypes={translate:f().func.isRequired,isUniverseSearchShown:f().bool};var Sn=(0,M.withTranslations)(hn,s),o=angular,En=Lo.n(o);function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Nn(n);return e=r?(e=Nn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==wn(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(a,_().Component);var e,t,n,r=An(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(t=[{key:"componentDidMount",value:function(){try{En().module("notificationStreamIcon"),En().bootstrap(this.container,["notificationStreamIcon"])}catch(e){console.log(e)}}},{key:"render",value:function(){var t=this;return _().createElement("span",{ref:function(e){t.container=e},className:"nav-robux-icon rbx-menu-item"},_().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"}))}}])&&Cn(e.prototype,t),n&&Cn(e,n),a}();function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Un(n);return e=r?(e=Un(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==On(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(a,_().Component);var e,t,n,r=kn(a);function a(){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return e=a,(t=[{key:"componentDidMount",value:function(){try{En().module("notificationStream"),En().bootstrap(this.container,["notificationStream"])}catch(e){console.log(e)}}},{key:"render",value:function(){var t=this,e=Fe(),e=x()("notification-stream-base",e);return _().createElement("div",{ref:function(e){t.container=e},className:e,"notification-stream-base-view":"true"})}}])&&Tn(e.prototype,t),n&&Tn(e,n),a}(),Ln={name:"nsCloseContent",context:"click",additionalProperties:{}};function _n(){var e=(0,L.useRef)();return _().createElement("li",{id:"navbar-stream",ref:e,className:"navbar-icon-item navbar-stream notification-margins"},_().createElement(A.Popover,{id:"notification-stream-popover",trigger:"click",placement:"bottom",closeOnClick:!1,button:_().createElement("button",{type:"button",className:"btn-uiblox-common-common-notification-bell-md"},_().createElement(Rn,null)),container:e.current,onExit:function(){window.dispatchEvent(new Event("Roblox.NotificationStream.StreamClosed")),ge.eventStreamService.sendEventWithTarget(Ln.name,Ln.context,Ln.additionalProperties)},role:"menu"},_().createElement(Pn,null)))}_n.propTypes={};var jn=_n;function Dn(e){var t=e.accountNotificationCount,e=x()("notification-red notification nav-setting-highlight",{hidden:0===t});return _().createElement("span",{id:"settings-icon",className:"nav-settings-icon rbx-menu-item"},_().createElement("span",{className:"icon-nav-settings roblox-popover-close",id:"nav-settings"}),_().createElement("span",{className:e},t))}function Mn(){return Bn(void 0,void 0,Promise,function(){var t;return Fn(this,function(e){switch(e.label){case 0:return t={url:Gn(),withCredentials:!0},[4,j.httpService.get(t)];case 1:return[2,e.sent().data]}})})}Dn.defaultProps={accountNotificationCount:0},Dn.propTypes={accountNotificationCount:f().number};var qn=Dn,Bn=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Fn=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Gn=Y,Vn={schematizedEventTypes:{authButtonClick:"authButtonClick",authPageLoad:"authPageLoad"},context:{homepage:"homepage",accountSwitcherStatus:"accountSwitcherStatus"},btn:{logout:"logout",switchAccount:"switchAccount"}};function Kn(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Hn(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Kn(r,t,n,a,o,"next",e)}function o(e){Kn(r,t,n,a,o,"throw",e)}a(void 0)})}}function Wn(){var e=$n("returnUrl")||window.location.href;return e=e===Jn()||e===tr()?"":e}function Qn(){var e=null!==D.AccountSwitcherService&&void 0!==D.AccountSwitcherService&&D.AccountSwitcherService.isAccountSwitcherAvailable()?Wn():$n("returnUrl")||window.location.href,t=Jn();return"".concat(t,"?").concat(Xn({returnUrl:e}))}function zn(){return me().then(Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}},e)})))}var $n=j.urlService.getQueryParam,Xn=j.urlService.composeQueryString,Yn=H,Jn=z,Zn=$,er=W,tr=X,nr=r,r={getSignupUrl:function(e){var t,n,e=0<arguments.length&&void 0!==e&&e;return n=k.authenticatedUser.isAuthenticated&&e?(t=Wn(),tr()):(t=(n=(t=$n("returnUrl")||window.location.href).toLowerCase()).startsWith(Jn().toLowerCase())||n.startsWith(Zn().toLowerCase())?"":t,Yn()),"".concat(n,"?").concat(Xn({returnUrl:t}))},getLoginLinkUrl:Qn,logoutUser:function(e){e.stopPropagation(),e.preventDefault(),document.dispatchEvent(new CustomEvent(nr.name)),ge.eventStreamService.sendEventWithTarget(Vn.schematizedEventTypes.authButtonClick,Vn.context.homepage,{btn:Vn.btn.logout}),En().isUndefined(En().element("#chat-container").scope())||(e=En().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie")),null!==D.EmailVerificationService&&void 0!==D.EmailVerificationService&&D.EmailVerificationService.handleUserEmailUpsellAtLogout(zn).then(function(e){e&&!e.emailAddress||zn()})},logoutAndRedirect:zn,isLoginLinkAvailable:function(){var e=(null===(e=window)||void 0===e?void 0:e.location).pathname,e=null!==(e=null==e?void 0:e.toLowerCase())&&void 0!==e?e:"";return!e.startsWith("/login")&&!e.startsWith("/newlogin")},switchAccount:function(e){e.stopPropagation(),e.preventDefault(),e=window.location.href,ge.eventStreamService.sendEventWithTarget(Vn.schematizedEventTypes.authButtonClick,Vn.context.homepage,{btn:Vn.btn.switchAccount,state:e.toString()}),En().isUndefined(En().element("#chat-container").scope())||(e=En().element("#chat-container").scope()).$digest(e.$broadcast("Roblox.Chat.destroyChatCookie"));var t={containerId:"navigation-account-switcher-container",onAccountSwitched:function(){ge.localStorageService.setLocalStorage(B.accountSwitchedFlag,!0),window.location.href=er()},handleAddAccount:function(){window.location.href=z()}};(function(){var e=Hn(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===D.AccountSwitcherService||void 0===D.AccountSwitcherService?void 0:D.AccountSwitcherService.isAccountSwitcherAvailable();case 2:if(!e.sent){e.next=4;break}null===D.AccountSwitcherService||void 0===D.AccountSwitcherService||D.AccountSwitcherService.renderAccountSwitcher(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},getIsVNGLandingRedirectEnabled:function(){var e=Hn(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.ExperimentationService.getAllValuesForLayer("Website.LandingPage");case 3:return t=e.sent,t=null!==(n=null==t?void 0:t.IsVngLandingPageRedirectEnabled)&&void 0!==n&&n,e.next=7,Mn();case 7:return n=e.sent,n=n.isVNGComplianceEnabled,e.abrupt("return",n&&t);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),navigateToLoginWithRedirect:function(){window.location.href=Qn()}},rr=F.settingsUrl,ar=F.quickLoginUrl,or=r.logoutUser,ir=r.switchAccount,cr=l.quickLogin,ur=l.settings,lr=l.logout,sr=l.switchAccountKey;function dr(e){var r=e.translate,t=e.accountNotificationCount,a=void 0===t?0:t,o=void 0!==(e=e.isCrossDeviceLoginCodeValidationDisplayed)&&e,i=x()("notification-blue notification nav-setting-highlight",{hidden:0===a}),c=(null!==(e=null===D.AccountSwitcherService||void 0===D.AccountSwitcherService?void 0:D.AccountSwitcherService.useIsAccountSwitcherAvailableForBrowser())&&void 0!==e?e:[!1])[0],e=Object.entries(rr).map(function(e){var t=e[0],n=e[1],e=n.url,n=n.label;return _().createElement("li",{key:t},t===lr&&_().createElement(A.Link,{className:"rbx-menu-item logout-menu-item",key:t,onClick:or,url:"#"},r(n)),t===sr&&c&&_().createElement(A.Link,{className:"rbx-menu-item account-switch-menu-item",key:t,onClick:ir,url:"#"},r(n)),t===cr&&o&&_().createElement(A.Link,{className:"rbx-menu-item",key:t,url:ar},r(n)),t!==lr&&t!==cr&&t!==sr&&_().createElement(A.Link,{cssClasses:"rbx-menu-item",key:t,url:e},r(n),t===ur&&_().createElement("span",{className:i},a)))});return _().createElement(_().Fragment,null,e)}function fr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vr(e){var t=e.translate,n=e.accountNotificationCount,r=mr((0,L.useState)(!1),2),e=r[0],a=r[1],r=(0,L.useRef)();return(0,L.useEffect)(function(){var e,t=function(){var c,e=(c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===D.AccountSwitcherService||void 0===D.AccountSwitcherService?void 0:D.AccountSwitcherService.syncAccountSwitcherBlobIfNeeded();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn("account switching has issues",e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){fr(r,t,n,a,o,"next",e)}function o(e){fr(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}}();a(!0),e=!(null===D.AccountSwitcherService||void 0===D.AccountSwitcherService||!D.AccountSwitcherService.getStoredAccountSwitcherBlob()),ge.eventStreamService.sendEventWithTarget(Vn.schematizedEventTypes.authPageLoad,Vn.context.accountSwitcherStatus,{state:e.toString()}),t()},[]),_().createElement("li",{id:"navbar-settings",ref:r,className:"navbar-icon-item"},_().createElement(A.Popover,{id:"settings-popover",trigger:"click",placement:"bottom",className:Fe(),containerPadding:20,button:_().createElement("button",{type:"button",className:"btn-navigation-nav-settings-md"},_().createElement(qn,{accountNotificationCount:n})),container:r.current,role:"menu"},_().createElement("div",{className:Fe()},_().createElement("ul",{id:"settings-popover-menu",className:"dropdown-menu"},_().createElement(dr,{isCrossDeviceLoginCodeValidationDisplayed:e,translate:t,accountNotificationCount:n})))))}vr.defaultProps={accountNotificationCount:0},vr.propTypes={translate:f().func.isRequired,accountNotificationCount:f().number};var br=vr;function yr(e){var t=e.robuxAmount,n=e.isGetCurrencyCallDone,r=e.robuxError,e=e.creditDisplayConfig,t=r?g:j.abbreviateNumber.getTruncValue(t),t=_().createElement(L.Fragment,null,_().createElement("span",{className:"icon-robux-28x28 roblox-popover-close",id:"nav-robux"}),e!==P.hideCreditAndRobux&&_().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},n&&t));return _().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item"},r?_().createElement(A.Tooltip,{id:"current-error",content:r,placement:"bottom",containerClassName:"nav-buy-robux-icon-tooltip-container"},t):t)}yr.defaultProps={robuxAmount:0,robuxError:""},yr.propTypes={robuxAmount:f().number,robuxError:f().string,isGetCurrencyCallDone:f().bool.isRequired,creditDisplayConfig:f().string.isRequired};var gr=yr;function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Er=F.buyRobuxUrl,wr=F.redeemUrl,Cr=F.buyGiftCardUrl,xr=new Map,Ar=new Map;function Nr(e){var t=e.creditAmount,n=e.creditDisplayConfig,r=e.creditError,a=e.currencyCode,o=e.isEligibleForVng,i=e.robuxAmount,c=e.robuxError,u=e.openConvertCreditModal,l=e.onBuyGiftCardClick,s=e.onBuyRobuxExternalClick,d=e.translate,f=hr((0,L.useState)(!0),2),m=f[0],p=f[1],v=hr((0,L.useState)(!1),2),e=v[0],b=v[1],f=hr((0,L.useState)(!1),2),v=f[0],y=f[1],c=c?g:j.numberFormat.getNumberFormat(i);return(0,L.useEffect)(function(){i<h.robuxTruncateThreshold&&t<h.creditTruncateThreshold&&n!==P.hideCreditAndRobux&&p(!1)},[i,t,n]),(0,L.useEffect)(function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".dropdown-credit-balance"}}))},[n]),(0,L.useEffect)(function(){0===t?b(!1):xr.has(t)?b(xr.get(t)):ve().then(function(e){0<e.data.robuxConversionAmount?(xr.set(t,!0),b(!0)):(xr.set(t,!1),b(!1))})},[t]),(0,L.useEffect)(function(){Ar.has(Cr.cacheKey)?y(Ar.get(Cr.cacheKey)):be().then(function(e){e=e.data;y(e.displayBuyGiftCardOption),Ar.set(Cr.cacheKey,e.displayBuyGiftCardOption)})},[]),_().createElement(L.Fragment,null,_().createElement("div",{className:m?"":"wallet-hidden"},_().createElement("li",{className:"dropdown-wallet"},_().createElement(A.Link,{className:"dropdown-wallet-section"},_().createElement("span",{className:"icon-robux-28x28",id:"nav-robux"}),_().createElement("span",{id:"nav-robux-balance"},c))),n!==P.control&&_().createElement("li",{className:"dropdown-wallet"},_().createElement(A.Link,{className:"dropdown-wallet-section"},_().createElement("span",{className:"icon-menu-wallet"}),r?g:_().createElement("span",{className:"dropdown-credit-balance","data-amount":t,"data-currency-code":a}))),_().createElement("li",{className:"rbx-divider"})),o?_().createElement("li",null,_().createElement("button",{type:"button",cssClasses:"rbx-menu-item",onClick:s},d(Er.buyRobux.label))):_().createElement("li",null,_().createElement(A.Link,{cssClasses:"rbx-menu-item",url:Er.buyRobux.url,onClick:function(){return e=ge.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX,void ge.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(ge.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_ROBUX_PURCHASE,!1,ge.paymentFlowAnalyticsService.ENUM_VIEW_NAME.NAVIGATION_DROPDOWN_MENU,ge.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,e);var e}},d(Er.buyRobux.label))),v&&_().createElement("li",null,_().createElement("button",{type:"button",cssClasses:"rbx-menu-item",onClick:l},d(Cr.label)||"Buy Gift Card")),_().createElement("li",null,_().createElement(A.Link,{cssClasses:"rbx-menu-item",url:Er.myTransactions.url},d(Er.myTransactions.label))),_().createElement("li",null,_().createElement(A.Link,{cssClasses:"rbx-menu-item",url:wr.url},d(wr.label))),n!==P.control&&e&&_().createElement("li",null,_().createElement(A.Link,{cssClasses:"rbx-menu-item",onClick:u},d("Label.ConvertCreditSuccess"))))}Nr.defaultProps={isEligibleForVng:!1,robuxAmount:0,robuxError:"",creditAmount:0,currencyCode:"",creditError:""},Nr.propTypes={isEligibleForVng:f().bool,translate:f().func.isRequired,robuxAmount:f().number,robuxError:f().string,creditAmount:f().number,currencyCode:f().string,creditError:f().string,creditDisplayConfig:f().string.isRequired,openConvertCreditModal:f().func.isRequired,onBuyGiftCardClick:f().func.isRequired,onBuyRobuxExternalClick:f().func.isRequired};var Rr=Nr;function Or(e){var t=e.creditAmount,n=e.currencyCode,e=e.creditError,e=_().createElement(L.Fragment,null,_().createElement("span",{className:"icon-menu-wallet roblox-popover-close",id:"nav-credit-icon"}),_().createElement("span",{className:"rbx-text-navbar-right text-header",id:"nav-robux-amount"},e?_().createElement("div",{className:"nav-credit-text"},g):_().createElement("div",{className:"credit-balance","data-amount":t,"data-currency-code":n})));return(0,L.useEffect)(function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".credit-balance",tagClassName:"navbar-compact nav-credit-text"}}))},[t,n]),_().createElement(L.Fragment,null,_().createElement("span",{id:"nav-robux-icon",className:"nav-robux-icon rbx-menu-item nav-credit"},e))}Or.defaultProps={creditAmount:0,creditError:"",currencyCode:"USD"},Or.propTypes={creditAmount:f().number,creditError:f().string,currencyCode:f().string};var Tr=Or;function Ir(e){var t=e.translate,n=e.isShopModalOpen,r=e.closeShopModal,a=e.onModalContinue,e=_().createElement(_().Fragment,null,_().createElement("p",{className:"shop-description"},t("Description.RetailWebsiteRedirect")),_().createElement("p",{className:"shop-warning"},t("Description.PurchaseAgeWarning")));return _().createElement(A.SimpleModal,{title:t("Heading.LeavingRoblox"),body:e,show:n,actionButtonShow:!0,actionButtonText:t("Action.Continue"),neutralButtonText:t("Action.Cancel"),onAction:a,onNeutral:r,onClose:r})}Ir.propTypes={translate:f().func.isRequired,isShopModalOpen:f().bool.isRequired,closeShopModal:f().func.isRequired,onModalContinue:f().func.isRequired};var kr=(0,M.withTranslations)(Ir,s);function Ur(e){var t=e.translate,n=e.isOpen,r=e.onClose,a=e.onContinue,e=_().createElement(_().Fragment,null,_().createElement("p",{className:"modal-body"},t("Description.RedirectToPartnerWebsite")||"This purchase must be completed on our partner’s website. You will be returned to Roblox after the purchase is completed.\n\nProceed to partner website for payment?"));return _().createElement(A.SimpleModal,{title:t("Heading.LeaveRoblox")||"Leaving Roblox",body:e,show:n,actionButtonShow:!0,actionButtonText:t("Action.ContinueToPayment")||"Continue to Payment",neutralButtonText:t("Action.Cancel")||"Cancel",onAction:a,onNeutral:r,onClose:r})}Ur.propTypes={translate:f().func.isRequired,isOpen:f().bool.isRequired,onClose:f().func.isRequired,onContinue:f().func.isRequired};var Pr=(0,M.withTranslations)(Ur,s);function Lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jr(e){function t(e){ge.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(v.WEB_ROBUX_PURCHASE,!1,b.NAVIGATION_DROPDOWN_MENU,g.USER_INPUT,e)}var n=e.creditAmount,r=e.creditDisplayConfig,a=e.creditError,o=e.currencyCode,i=e.isEligibleForVng,c=e.isExperimentCallDone,u=e.isGetCurrencyCallDone,l=e.openConvertCreditModal,s=e.robuxAmount,d=e.robuxError,f=e.translate,m=F.buyGiftCardUrl,p=F.buyRobuxUrl.buyRobuxOnVng,v=ge.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT,b=ge.paymentFlowAnalyticsService.ENUM_VIEW_NAME,y=ge.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE,g=ge.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE,h=(0,L.useRef)(),S=Lr((0,L.useState)(!1),2),E=S[0],w=S[1],e=Lr((0,L.useState)(!1),2),S=e[0],C=e[1];return _().createElement("li",{id:"navbar-robux",ref:h,className:x()("navbar-icon-item",{"robux-popover-margins":r===P.hideCreditAndRobux})},_().createElement(kr,{isShopModalOpen:E,closeShopModal:function(){w(!1)},onModalContinue:function(){t(y.CONTINUE_TO_CASHSTAR);var e=decodeURIComponent(m.url);window.open(e,"_blank")}}),i&&_().createElement(Pr,{isOpen:S,onClose:function(){C(!1)},onContinue:function(){t(y.CONTINUE_TO_VNG),ye().then(function(e){e=e.data.vngShopRedirectUrl;window.open(e||p.url,"_blank").focus()},function(){window.open(p.url,"_blank").focus()}),C(!1)}}),c&&_().createElement(A.Popover,{id:"buy-robux-popover",trigger:"click",placement:"bottom",button:_().createElement("button",{type:"button",className:"btn-navigation-nav-robux-md"},_().createElement(gr,{robuxAmount:s,isGetCurrencyCallDone:u,robuxError:d,creditDisplayConfig:r}),r===P.showCreditAndRobux&&_().createElement(Tr,{creditAmount:n,currencyCode:o,creditError:a})),role:"menu",container:h.current},_().createElement("div",{className:Fe()},_().createElement("ul",{id:"buy-robux-popover-menu",className:"dropdown-menu"},_().createElement(Rr,{isEligibleForVng:i,translate:f,robuxAmount:s,robuxError:d,creditAmount:n,currencyCode:o,creditError:a,creditDisplayConfig:r,openConvertCreditModal:l,onBuyGiftCardClick:function(){t(y.BUY_GIFT_CARD),w(!0)},onBuyRobuxExternalClick:function(){t(y.EXTERNAL_LINK_MODAL),C(!0)}})))))}jr.defaultProps={robuxAmount:0,robuxError:"",creditAmount:0,creditError:"",currencyCode:"USD",creditDisplayConfig:P.control,isExperimentCallDone:!1,isEligibleForVng:!1},jr.propTypes={translate:f().func.isRequired,robuxAmount:f().number,robuxError:f().string,isGetCurrencyCallDone:f().bool.isRequired,creditAmount:f().number,currencyCode:f().string,creditError:f().string,creditDisplayConfig:f().string,isExperimentCallDone:f().bool,openConvertCreditModal:f().func.isRequired,isEligibleForVng:f().bool};var Dr=jr;function Mr(e){e=e.toggleUniverseSearch;return _().createElement("li",{className:"rbx-navbar-right-search"},_().createElement("button",{type:"button",className:"rbx-menu-item btn-navigation-nav-search-white-md",onClick:e},_().createElement("span",{className:"icon-nav-search-white"})))}Mr.propTypes={toggleUniverseSearch:f().func.isRequired};var qr=Mr,Br=RobloxPresence;function Fr(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kr(e){var t=e.translate,n=(0,L.useRef)(null),r=k.authenticatedUser.isUnder13,a=(0,v.currentUserHasVerifiedBadge)()&&v.VerifiedBadgeIconContainer?_().createElement("section",{ref:function(e){n.current=e}},_().createElement(v.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-header",size:v.BadgeSizes.CAPTIONHEADER})):null,o=Gr((0,L.useState)(!1),2),e=o[0],i=o[1];return(0,L.useEffect)(function(){function e(){var c;return c=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,D.ExperimentationService.getAllValuesForLayer("Social.Friends");case 4:t=e.sent,i(null!==(t=t.invisibleModeAllowed)&&void 0!==t&&t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}),(e=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){Fr(r,t,n,a,o,"next",e)}function o(e){Fr(r,t,n,a,o,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),_().createElement("div",{className:"age-bracket-label text-header"},_().createElement(A.Link,{className:"text-link dynamic-overflow-container",url:F.scrollListItems.profile.url},_().createElement("span",{className:"avatar avatar-headshot-xs"},_().createElement(p.Thumbnail2d,{containerClass:"avatar-card-image",targetId:k.authenticatedUser.id,type:p.ThumbnailTypes.avatarHeadshot,altName:k.authenticatedUser.name}),e&&D.CurrentUser.userId&&_().createElement(Br.PresenceStatusIcon,{translate:t,className:"avatar-status",userId:Number.parseInt(D.CurrentUser.userId,10)})),_().createElement("span",{className:"text-overflow age-bracket-label-username font-caption-header"},dt.nameForDisplay),a),_().createElement("span",{className:"xsmall age-bracket-label-age text-secondary"},r?"<13":"13+"))}function Hr(){return Aa(void 0,void 0,Promise,function(){var t;return Na(this,function(e){return t={withCredentials:!0,url:D.EnvironmentUrls.apiGatewayUrl+"/credit-balance/v1/get-next-purchasable-metadata"},[2,j.httpService.get(t)]})})}function Wr(r){return Aa(void 0,void 0,Promise,function(){var t,n;return Na(this,function(e){return t={paymentProviderType:"Credit",providerPayload:{product_id:0===r||null==r?void 0:r}},n={withCredentials:!0,url:D.EnvironmentUrls.apiGatewayUrl+"/payments-gateway/v1/process-payment"},[2,j.httpService.post(n,t)]})})}Kr.propTypes={translate:f().func.isRequired};var Qr=Kr,zr=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},$r="Label.AvailableCreditWithColon",Xr="Label.BalanceDue",Yr="Label.CreditAfterTransaction",Jr="Action.Buy",Zr="Action.Cancel",ea="Action.ConvertToRobux",ta="Label.ConvertCreditSuccess",na="Heading.BuyRobuxWithCredit",ra="Message.Step1LargestAvailablePackageYouCanBuy",aa="Message.Step2NextLargestPackage",oa="Message.Step3ConvertRobux",ia="Message.ConvertCreditToRobux",ca="Alert.RobuxPackagePurchased",ua="Alert.RobuxPackagePurchaseFailed",la="Alert.SuccessfullyConvertedCreditToRobux",sa="Heading.CreditConversionFail",da="Alert.GenericFailure",fa="NewCreditConversionGetNextPurchasableFailedStatusCode",ma="NewCreditConversionGetNextPurchasableCreditBalanceZero",pa="NewCreditConversionGetNextPurchasableUnexpectedException",va="NewCreditConversionGetNextPurchasableConversion",ba="NewCreditConversionGetNextPurchasableProductPurchase",ya="ProcessPaymentRequestFailedStatusCode",ga="ProcessPaymentNextStep",ha="ProcessPaymentNotSuccessful",Sa="ProcessPaymentNotSuccessful",Ea="ProcessPaymentUnexpectedException",wa="ConversionCancelClicked",Ca="ProductPurchaseCancelClicked",xa={common:["CommonUI.Controls","CommonUI.Features"],feature:"Purchasing.RedeemGameCard"},Aa=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Na=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ra="ar-",Oa="en-",Ta=["JPY"],Ia={PRICE_DATA_NOT_VALID:(l="PriceTag")+"DataNotValid",NUMBER_FORMAT_LOCALE_EXCEPTION:l+"NumberFormatLocaleException",ARABIC_LOCALE_TRIGGERED:l+"ArabicLocale"};function ka(e){var t=e.amount,n=e.currencyCode,r=e.tagClassName,e=t<0,a=Math.abs(t),o=""+a+n,i=x()("price-tag",r);try{var c=(u=Intl.NumberFormat().resolvedOptions().locale).startsWith(Ra)?((0,zr.fireEvent)(Ia.ARABIC_LOCALE_TRIGGERED),u.replace(Ra,Oa)):u,u={style:"currency",currency:n,notation:"standard"};1e4<=a&&!Ta.includes(n)&&(u.minimumFractionDigits=0,u.maximumFractionDigits=2,u.maximumSignificantDigits=21,u.notation="compact"),i.split(" ").includes("navbar-compact")&&(u.maximumSignificantDigits=4),o=Intl.NumberFormat(c,u).format(a)}catch(e){(0,zr.fireEvent)(Ia.NUMBER_FORMAT_LOCALE_EXCEPTION)}return _().createElement("div",{className:"d-flex-inline gap-1 justify-content-start align-items-center"},e&&_().createElement("span",{className:i},"-"),_().createElement("span",{className:i},o))}ka.propTypes={amount:f().number.isRequired,currencyCode:f().string.isRequired};var Ua,Pa,La=ka,_a=function(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},ja=function(n,r){var a,o,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Da=(l=(X=(0,A.createModal)(),Ua=X[0],[function(e){var t=e.availableBalance,n=e.totalBalanceDue,r=e.currencyCode,a=e.numberOfPurchase,o=e.robuxAmountInPackage,i=e.loading,c=e.onNeutral,u=e.onPurchase,e=e.translate;return _().createElement(Ua,{id:"purchase-product-modal",title:e(na),body:_().createElement("div",{className:"d-flex justify-content-center flex-direction-column text-center"},_().createElement("div",{className:"purchase-prompt"},1===a?e(ra)||"Largest package you can buy with your available credit:":e(aa)),_().createElement("div",{className:"purchase-logo"},_().createElement("div",{className:x()("robux-product-logo","margin-auto","robux-graphic","robux-"+o)}),_().createElement("div",null,_().createElement("span",{className:"icon-robux-16x16"}),_().createElement("span",{className:"text-robux"},o))),_().createElement("div",{className:"purchase-summary d-flex flex-direction-column text-left"},_().createElement("div",{className:"available-credit d-flex justify-content-between"},_().createElement("span",null,e($r)),_().createElement(La,{amount:t,currencyCode:r})),_().createElement("div",{className:"balance-due d-flex justify-content-between"},_().createElement("span",null,e(Xr)),_().createElement(La,{amount:-1*n,currencyCode:r})),_().createElement("div",{className:"rbx-divider"}),_().createElement("div",{className:"credit-after-transaction d-flex justify-content-between"},_().createElement("span",null,e(Yr)),_().createElement(La,{amount:t-n,currencyCode:r})))),neutralButtonText:e(Zr),actionButtonText:e(Jr),onNeutral:c,onAction:u,loading:i,actionButtonShow:!0})},X[1]]))[0],Ma=l[1],qa=(l=(X=(0,A.createModal)(),Pa=X[0],[function(e){var t=e.remainingCreditBalance,n=e.currencyCode,r=e.robuxConversionAmount,a=e.loading,o=e.numberOfPurchase,i=e.onConvert,c=e.onNeutral,e=e.translate,r=_().createElement("div",{className:"text-center conversion-message",dangerouslySetInnerHTML:{__html:1===o?e(ia,{robuxAmount:'<br /><span class="icon-robux-16x16"></span>'+r}):e(oa,{remainingCreditBalance:"<span class='fiat-price-tag ml-1' data-amount="+t+" data-currency-code="+n+"></span>",lineBreaker:"<br />",robuxConversionAmount:'<span class="icon-robux-16x16"></span>'+r})},ref:function(){window.dispatchEvent(new CustomEvent("price-tag:render",{detail:{targetSelector:".fiat-price-tag"}}))}});return _().createElement(Pa,{id:"convert-credit-modal",title:e(ta),body:r,neutralButtonText:e(Zr),actionButtonText:e(ea),onNeutral:c,onAction:i,loading:a,actionButtonShow:!0})},X[1]]))[0],Ba=l[1],Fa=function(e){function a(){d.warning(f(da)||"Something went wrong! Please try again later."),Ma.close(),Ba.close(),window.location.href=j.urlService.getAbsoluteUrl("/upgrades/robux")}function o(e,t){t=0===t||null==t,e?d.success(f(t?la:ca)):d.warning(f(t?sa:ua)||f(da)||"Something went wrong! Please try again later.")}function i(){return _a(t,void 0,void 0,function(){var t;return ja(this,function(e){switch(e.label){case 0:w(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,Hr()];case 2:return 200!==(t=e.sent()).status?(d.warning(f(da)||"Something went wrong! Please try again later."),w(!1),(0,zr.fireEvent)(fa),(0,zr.fireEvent)(""+fa+t.status),[2]):0===(t=t.data).creditBalance||0===t.productId&&0===t.robuxConversionAmount?(w(!1),Ba.close(),Ma.close(),r(t.creditBalance),(0,zr.fireEvent)(ma),[2]):(r(t.creditBalance),u(t.currencyCode),s(t.robuxConversionAmount),p(t.productId),g(t.balanceDue),S(t.robuxAmountProductGrant),0===t.productId?(Ba.open(),Ma.close(),(0,zr.fireEvent)(va)):(Ma.open(),(0,zr.fireEvent)(ba)),[3,5]);case 3:return e.sent(),a(),(0,zr.fireEvent)(pa),[3,5];case 4:return w(!1),[7];case 5:return[2]}})})}var t=this,n=e.creditBalance,r=e.setCreditBalance,c=e.currencyCode,u=e.setCurrencyCode,l=e.convertedRobuxAmount,s=e.setConvertedRobuxAmount,d=e.systemFeedbackService,f=e.translate,m=(e=(0,L.useState)(0))[0],p=e[1],v=(e=(0,L.useState)(0))[0],b=e[1],y=(e=(0,L.useState)(0))[0],g=e[1],h=(e=(0,L.useState)(0))[0],S=e[1],E=(e=(0,L.useState)(!1))[0],w=e[1],C=function(){return _a(t,void 0,void 0,function(){var t,n,r;return ja(this,function(e){switch(e.label){case 0:w(!0),e.label=1;case 1:return e.trys.push([1,6,7,8]),[4,Wr(m)];case 2:return 200!==(t=e.sent()).status?(o(!1,m),w(!1),(0,zr.fireEvent)(ya),(0,zr.fireEvent)(""+ya+t.status),[2]):(n=t.data,o(n.isSuccess,m),n.isSuccess&&null!==(r=n.providerPayload)&&void 0!==r&&r.IsSuccessful?[4,i()]:[3,4]);case 3:return e.sent(),b(v+1),(0,zr.fireEvent)(ga),[3,5];case 4:Ma.close(),Ba.close(),(0,zr.fireEvent)(ha),e.label=5;case 5:return(0,zr.fireEvent)(Sa+n.providerPayload.ResponseMessage),[3,8];case 6:return e.sent(),a(),(0,zr.fireEvent)(Ea),[3,8];case 7:return w(!1),[7];case 8:return[2]}})})};return[(0,M.withTranslations)(function(){function e(){0===m?(Ba.close(),(0,zr.fireEvent)(wa)):(Ma.close(),(0,zr.fireEvent)(Ca))}return _().createElement(L.Fragment,null,_().createElement(Da,{availableBalance:n,totalBalanceDue:y,currencyCode:c,numberOfPurchase:v,robuxAmountInPackage:h,onPurchase:function(){C()},onNeutral:e,loading:E,translate:f}),_().createElement(qa,{remainingCreditBalance:n,currencyCode:c,robuxConversionAmount:l,numberOfPurchase:v,onConvert:function(){C()},onNeutral:e,loading:E,translate:f}))},xa),function(){b(0),i(),b(1)}]};function Ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Va(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ka=Pe,Ha=(Pe=Ga((0,A.createSystemFeedback)(),2))[0],Wa=Pe[1];function Qa(e){function t(){a&&(d(!1),le(o).then(function(e){e=e.data;p(e.robux)},function(){C(n(U))}).finally(function(){d(!0)}))}var n=e.translate,r=e.toggleUniverseSearch,a=k.authenticatedUser.isAuthenticated,o=k.authenticatedUser.id,i=Ga((0,L.useState)(0),2),c=i[0],u=i[1],l=Ga((0,L.useState)(!1),2),s=l[0],d=l[1],f=Ga((0,L.useState)(0),2),m=f[0],p=f[1],v=Ga((0,L.useState)(!1),2),b=v[0],y=v[1],g=Ga((0,L.useState)(!0),2),h=g[0],S=g[1],E=Ga((0,L.useState)(""),2),w=E[0],C=E[1],e=Ga((0,L.useState)(P.control),2),i=e[0],x=e[1],l=Ga((0,L.useState)(null),2),f=l[0],A=l[1],v=Ga((0,L.useState)(null),2),g=v[0],N=v[1],E=Ga((0,L.useState)(""),2),e=E[0],R=E[1],l=Ga((0,L.useState)(!1),2),v=l[0],O=l[1],E=Ga((0,L.useState)(0),2),l=E[0],E=E[1],l=Ga(Fa({creditBalance:f,setCreditBalance:A,currencyCode:g,setCurrencyCode:N,convertedRobuxAmount:l,setConvertedRobuxAmount:E,systemFeedbackService:Wa,translate:n}),2),E=l[0],T=l[1];(0,L.useEffect)(function(){window.addEventListener("navigation-update-user-currency",function(e){t()})},[]),(0,L.useEffect)(function(){if(a){Ka().then(u),t(),a&&se().then(function(e){e=e.data;y(e.shouldShowVng),S(e.notificationsCanAccessStream)},function(){C(n(U))}),pe().then(function(e){var t=e.data;null===t.creditDisplayConfig||null===t.creditBalance||null===t.currencyCode?x(P.control):x(null!==(e=t.creditDisplayConfig)&&void 0!==e?e:P.control),A(t.creditBalance),N(t.currencyCode)},function(){R(n(U))}).finally(function(){O(!0)});try{ge.localStorageService.getLocalStorage(B.accountSwitchedFlag)&&(Wa.success(n(B.accountSwitchedMessage,{accountName:k.authenticatedUser.name}),0,5e3),ge.localStorageService.removeLocalStorage(B.accountSwitchedFlag))}catch(e){}}},[a,o]);var I=_().createElement("li",{id:"navbar-stream",className:"navbar-icon-item navbar-stream"},_().createElement("span",{className:"nav-robux-icon rbx-menu-item"},_().createElement("span",{id:"notification-stream-icon-container","notification-stream-indicator":"true"})));try{En().module("notificationStreamIcon"),En().module("notificationStream"),I=_().createElement(jn,null)}catch(e){console.log(e)}return _().createElement("ul",{className:"nav navbar-right rbx-navbar-icon-group"},_().createElement(Ha,null),_().createElement(Qr,{translate:n}),_().createElement(qr,{translate:n,toggleUniverseSearch:r}),h&&I,_().createElement(Dr,{translate:n,robuxAmount:m,robuxError:w,creditAmount:f,currencyCode:g,creditError:e,creditDisplayConfig:i,isEligibleForVng:b,isExperimentCallDone:v,isGetCurrencyCallDone:s,openConvertCreditModal:function(){T()}}),_().createElement(br,{translate:n,accountNotificationCount:c}),_().createElement(E,null))}Qa.defaultProps={accountNotificationCount:0},Qa.propTypes={translate:f().func.isRequired,accountNotificationCount:f().number,toggleUniverseSearch:f().func.isRequired};var za=(0,M.withTranslations)(Qa,{common:["CommonUI.Features","Common.AlertsAndOptions"],feature:"Purchasing.RedeemGameCard"});function $a(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ya(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ja=r.getSignupUrl,Za=r.getIsVNGLandingRedirectEnabled;function eo(e){var t=e.translate,n=Xa((0,L.useState)(!1),2),e=n[0],r=n[1],a=Xa(null!==(n=null===D.AccountSwitcherService||void 0===D.AccountSwitcherService?void 0:D.AccountSwitcherService.useIsAccountSwitcherAvailableForBrowser())&&void 0!==n?n:[!1],1)[0];return(0,L.useEffect)(function(){try{(0,ge.dataStores.authIntentDataStore.saveGameIntentFromCurrentUrl)()}catch(e){console.error("Failed to save game intent from current url",e)}},[]),(0,L.useEffect)(function(){(function(){var c,e=(c=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Za();case 3:t=e.sent,r(!t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(!0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function a(e){$a(r,t,n,a,o,"next",e)}function o(e){$a(r,t,n,a,o,"throw",e)}a(void 0)})});return function(){return e.apply(this,arguments)}})()()},[]),e&&_().createElement("li",{className:"signup-button-container"},_().createElement(A.Link,{onClick:function(){window.location.href=Ja(a)},url:Ja(a),id:"sign-up-button",className:"rbx-navbar-signup btn-growth-sm nav-menu-title signup-button"},t("Label.sSignUp")))}function to(){window.location.href=ao()}eo.propTypes={translate:f().func.isRequired};var no=eo,ro=r.isLoginLinkAvailable,ao=r.getLoginLinkUrl;function oo(e){e=e.translate;return _().createElement("li",{className:"login-action"},ro()&&_().createElement(A.Link,{onClick:to,url:ao(),className:"rbx-navbar-login btn-secondary-sm nav-menu-title rbx-menu-item"},e("Label.sLogin")))}oo.propTypes={translate:f().func.isRequired};var io=oo;function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function uo(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function lo(e){var t=e.translate,n=e.toggleUniverseSearch,e=uo(e,["translate","toggleUniverseSearch"]);return k.authenticatedUser.isAuthenticated?_().createElement("div",{className:"navbar-right rbx-navbar-right"},_().createElement(za,co({translate:t,toggleUniverseSearch:n},e))):_().createElement("div",{className:"navbar-right rbx-navbar-right"},_().createElement("ul",{className:"nav navbar-right rbx-navbar-right-nav"},_().createElement(no,{translate:t}),_().createElement(io,{translate:t}),_().createElement(qr,{translate:t,toggleUniverseSearch:n})))}lo.propTypes={translate:f().func.isRequired,toggleUniverseSearch:f().func.isRequired};var so=lo;function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vo=(0,M.withTranslations)(function(e){var t=De(),n=mo((0,L.useState)(t),2),r=n[0],a=n[1],t=(n=mo((0,L.useState)(!t),2))[0],o=n[1],i=(0,L.useCallback)(function(){var e=De();r!==e&&(a(e),o(!e))},[r]);return(0,L.useEffect)(function(){return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[i]),_().createElement(_().Fragment,null,_().createElement(Sn,fo({isUniverseSearchShown:t},e)),_().createElement(so,fo({toggleUniverseSearch:function(){o(function(e){return!e})}},e)))},s);function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e){function t(e){ge.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(c.WEB_ROBUX_PURCHASE,!1,u.NAVIGATION_ROBUX_TEXT,s.USER_INPUT,e)}var n=e.translate,r=F.buyRobuxUrl,a=r.buyRobux,o=r.buyRobuxOnVng,i=k.authenticatedUser.isAuthenticated,c=ge.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT,u=ge.paymentFlowAnalyticsService.ENUM_VIEW_NAME,l=ge.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE,s=ge.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE,d=bo((0,L.useState)(!1),2),e=d[0],f=d[1],r=bo((0,L.useState)(!1),2),d=r[0],m=r[1],p=(0,L.useRef)(new Map);(0,L.useEffect)(function(){var t=p.current,n=o.cacheKey;t.has(n)?f(t.get(n)):i&&se().then(function(e){e=e.data.shouldShowVng;f(e),t.set(n,e)})},[o,o.cacheKey,i]);return _().createElement("div",null,e?_().createElement(_().Fragment,null,_().createElement(Pr,{isOpen:d,onClose:function(){m(!1)},onContinue:function(){t(l.CONTINUE_TO_VNG),ye().then(function(e){e=e.data.vngShopRedirectUrl;window.open(e||o.url,"_blank").focus()},function(){window.open(o.url,"_blank").focus()}),m(!1)}}),_().createElement(A.Link,{cssClasses:"font-header-2 nav-menu-title text-header robux-menu-btn",onClick:function(){t(l.EXTERNAL_LINK_MODAL),m(!0)}},n(a.name))):_().createElement(A.Link,{cssClasses:"font-header-2 nav-menu-title text-header robux-menu-btn",url:a.url,onClick:function(){return t(l.BUY_ROBUX)}},n(a.name)))}go.propTypes={translate:f().func.isRequired};var ho=(0,M.withTranslations)(go,s),Pe=function(){var e=document.getElementById("header-develop-md-link"),t=document.getElementById("header-develop-sm-link");null!==e&&(e.href="https://create.".concat(D.EnvironmentUrls.domain,"/")),null!==t&&(t.href="https://create.".concat(D.EnvironmentUrls.domain,"/"))},So=n;function Eo(e){var e=e.translate,t=document.getElementById(So);return _().createElement(A.Button,{id:"skip-to-main-content",size:A.Button.sizes.extraSmall,variant:A.Button.variants.primary,onClick:function(){return t.focus()}},e("Action.SkipToMainContent")||"Skip to main content")}Eo.propTypes={translate:f().func.isRequired};var wo=Eo,Co=u,xo=k.authenticatedUser.isAuthenticated;function Ao(e){var t=A.IconButton.iconTypes;return _().createElement(L.Fragment,null,_().createElement(wo,e),xo&&_().createElement(A.IconButton,{className:"menu-button",iconType:t.navigation,iconName:"nav-menu",onClick:function(){document.dispatchEvent(new CustomEvent(Co.name))}}))}Ao.propTypes={};var No=(0,M.withTranslations)(Ao,s);function Ro(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Oo(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ro(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Ro(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}Lo(226);var u=r.logoutAndRedirect,s=r.getIsVNGLandingRedirectEnabled,r=r.navigateToLoginWithRedirect,To="right-navigation-header",Io="left-navigation-container",ko="header-menu-icon",Uo="navigation-robux-container",Po="navigation-robux-mobile-container";t().NavigationService=Oo(Oo({},t().NavigationService),{},{logoutAndRedirect:u,getIsVNGLandingRedirectEnabled:s,navigateToLoginWithRedirect:r}),Pe(),(0,j.ready)(function(){document.getElementById(ko)&&(0,e.render)(_().createElement(No,null),document.getElementById(ko)),document.getElementById(Uo)&&(0,e.render)(_().createElement(ho,null),document.getElementById(Uo)),document.getElementById(Po)&&(0,e.render)(_().createElement(ho,null),document.getElementById(Po)),document.getElementById(To)&&(0,e.render)(_().createElement(vo,null),document.getElementById(To)),document.getElementById(Io)&&(0,e.render)(_().createElement(xt,null),document.getElementById(Io))})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/9deb1cb918fc1703337c07bf4d892bea-navigation.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Navigation");